(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[4235],{13090:(e,t,n)=>{"use strict";n.d(t,{a1:()=>S,nf:()=>d.A,hq:()=>A.A,hs:()=>r,oZ:()=>a.A,XB:()=>w.A,Oj:()=>u.A,Ho:()=>g.A,mu:()=>m.A,Am:()=>p.A,aT:()=>b.A,qw:()=>f.A,lM:()=>v.A,VJ:()=>x.A,qO:()=>i.A,w_:()=>y.A,CP:()=>N.A,zM:()=>o.A,wI:()=>T.w,Ck:()=>h.A,fH:()=>j.fH,iw:()=>j.iw,LC:()=>F.A,F5:()=>k.A,RE:()=>c.A,o3:()=>C.o3,yG:()=>C.yG,nn:()=>s.A,OB:()=>C.OB,HG:()=>j.Ay,cH:()=>l.A,E2:()=>C.E2,Ob:()=>C.Ob});var r=n(94963),a=n(10526),i=n(20750),s=n(76968),o=n(54249),l=n(69161),c=n(30885),h=n(22054),d=n(94584),u=n(9755),g=n(35638),m=n(65621),p=n(32215),f=n(33269),y=n(44767),v=n(32637),b=n(67051),w=n(66361),A=n(58540),x=n(49482),N=n(20455),F=n(58966),k=n(17838),C=n(39472),T=n(63756),j=n(7148);const S="#00A699"},31746:(e,t,n)=>{var r={"./langAR":[95380,5380],"./langAR.js":[95380,5380],"./langCS":[64053,4053],"./langCS.js":[64053,4053],"./langDE":[87020,7020],"./langDE.js":[87020,7020],"./langEN":[45764],"./langEN.js":[45764],"./langES":[61591,1591],"./langES.js":[61591,1591],"./langFA":[78510,8510],"./langFA.js":[78510,8510],"./langFI":[9702,9702],"./langFI.js":[9702,9702],"./langFR":[51515,1515],"./langFR.js":[51515,1515],"./langHU":[45888,5888],"./langHU.js":[45888,5888],"./langIT":[48378,8378],"./langIT.js":[48378,8378],"./langJA":[1626,1626],"./langJA.js":[1626,1626],"./langKO":[95401,5401],"./langKO.js":[95401,5401],"./langNL":[13985,3985],"./langNL.js":[13985,3985],"./langPL":[39271,9271],"./langPL.js":[39271,9271],"./langPT-br":[43620,3620],"./langPT-br.js":[43620,3620],"./langRO":[28079,460],"./langRO.js":[28079,460],"./langRU":[69118,6737],"./langRU.js":[69118,6737],"./langSI":[72603,2603],"./langSI.js":[72603,2603],"./langSV":[46746,6746],"./langSV.js":[46746,6746],"./langTH":[90703,703],"./langTH.js":[90703,703],"./langTR":[26841,6841],"./langTR.js":[26841,6841],"./langUK":[82335,2335],"./langUK.js":[82335,2335],"./langVI":[10102,102],"./langVI.js":[10102,102],"./langZH":[23073],"./langZH.js":[23073]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(a)))}a.keys=()=>Object.keys(r),a.id=31746,e.exports=a},35725:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(76977),a=n(79305),i=n(55856);function s(e,t){const{text:n,className:s,style:o,container:l}=e;if(0===n.length)return{height:0,width:0};const c=i.z.createInContainer(l),h=i.k.createInContainer(c);(0,r.A)(h,{className:s,style:o,text:n});const d=(0,a.A)(h,t);return setTimeout((()=>{i.k.removeFromContainer(c),i.z.removeFromContainer(l)}),500),d}},55856:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,k:()=>s});class r{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}const a="http://www.w3.org/2000/svg",i=new r((function(){const e=document.createElementNS(a,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e})),s=new r((function(){return document.createElementNS(a,"text")}))},64235:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(96540),a=n(32142),i=n(95579),s=n(73865),o=n(7349),l=n(58928),c=n(13090),h=n(96453),d=n(85867),u=n(2445);const g=(0,a.gV)(),m=.3;class p extends r.PureComponent{getClassName(){const{className:e,showTrendLine:t,bigNumberFallback:n}=this.props,r=`superset-legacy-chart-big-number ${e} ${n?"is-fallback-value":""}`;return t?r:`${r} no-trendline`}createTemporaryContainer(){const e=document.createElement("div");return e.className=this.getClassName(),e.style.position="absolute",e.style.opacity="0",e}renderFallbackWarning(){const{bigNumberFallback:e,formatTime:t,showTimestamp:n}=this.props;return t&&e&&!n?(0,u.Y)("span",{className:"alert alert-warning",role:"alert",title:(0,i.t)("Last available value seen on %s",t(e[0])),children:(0,i.t)("Not up to date")}):null}renderKicker(e){const{timestamp:t,showTimestamp:n,formatTime:r,width:a}=this.props;if(!r||!n||"string"==typeof t||"bigint"==typeof t||"boolean"==typeof t)return null;const i=null===t?"":r(t),o=this.createTemporaryContainer();document.body.append(o);const l=(0,s.A)({text:i,maxWidth:a,maxHeight:e,className:"kicker",container:o});return o.remove(),(0,u.Y)("div",{className:"kicker",style:{fontSize:l,height:"auto"},children:i})}renderHeader(e){const{bigNumber:t,headerFormatter:n,width:r,colorThresholdFormatters:a}=this.props,o=null===t?(0,i.t)("No data"):n(t);let l;Array.isArray(a)&&a.length>0?a.forEach((e=>{const n=!!t&&e.getColorFromValue(t);n&&(l=n)})):l="black";const c=this.createTemporaryContainer();document.body.append(c);const h=(0,s.A)({text:o,maxWidth:.9*r,maxHeight:e,className:"header-line",container:c});return c.remove(),(0,u.Y)("div",{className:"header-line",style:{display:"flex",alignItems:"center",fontSize:h,height:"auto",color:l},onContextMenu:e=>{this.props.onContextMenu&&(e.preventDefault(),this.props.onContextMenu(e.nativeEvent.clientX,e.nativeEvent.clientY))},children:o})}renderSubheader(e){const{bigNumber:t,subheader:n,width:r,bigNumberFallback:a}=this.props;let o=0;const l=(0,i.t)("No data after filtering or data is NULL for the latest time record"),c=(0,i.t)("Try applying different filters or ensuring your datasource has data");let h=n;if(null===t&&(h=a?c:l),h){const t=this.createTemporaryContainer();return document.body.append(t),o=(0,s.A)({text:h,maxWidth:.9*r,maxHeight:e,className:"subheader-line",container:t}),t.remove(),(0,u.Y)("div",{className:"subheader-line",style:{fontSize:o,height:e},children:h})}return null}renderTrendline(e){const{width:t,trendLineData:n,echartOptions:r,refs:a}=this.props;if(null==n||!n.some((e=>null!==e[1])))return null;const i={contextmenu:e=>{if(this.props.onContextMenu){e.event.stop();const{data:i}=e;if(i){var t,n,r,a;const s=e.event.event,o=[];o.push({col:null==(t=this.props.formData)?void 0:t.granularitySqla,grain:null==(n=this.props.formData)?void 0:n.timeGrainSqla,op:"==",val:i[0],formattedVal:null==(r=(a=this.props).xValueFormatter)?void 0:r.call(a,i[0])}),this.props.onContextMenu(s.clientX,s.clientY,{drillToDetail:o})}}}};return r&&(0,u.Y)(d.A,{refs:a,width:Math.floor(t),height:e,echartOptions:r,eventHandlers:i})}render(){const{showTrendLine:e,height:t,kickerFontSize:n,headerFontSize:r,subheaderFontSize:a}=this.props,i=this.getClassName();if(e){const e=Math.floor(m*t),s=t-e;return(0,u.FD)("div",{className:i,children:[(0,u.FD)("div",{className:"text-container",style:{height:s},children:[this.renderFallbackWarning(),this.renderKicker(Math.ceil(.7*(n||0)*t)),this.renderHeader(Math.ceil(.7*r*t)),this.renderSubheader(Math.ceil(.7*a*t))]}),this.renderTrendline(e)]})}return(0,u.FD)("div",{className:i,style:{height:t},children:[this.renderFallbackWarning(),this.renderKicker((n||0)*t),this.renderHeader(Math.ceil(r*t)),this.renderSubheader(Math.ceil(a*t))]})}}p.defaultProps={className:"",headerFormatter:g,formatTime:(0,o.mo)(l.M),headerFontSize:.3,kickerFontSize:.1,mainColor:c.a1,showTimestamp:!1,showTrendLine:!1,startYAxisAtZero:!0,subheader:"",subheaderFontSize:.125,timeRangeFixed:!1};const f=(0,h.I4)(p)`
  ${({theme:e})=>`\n    font-family: ${e.typography.families.sansSerif};\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n\n    &.no-trendline .subheader-line {\n      padding-bottom: 0.3em;\n    }\n\n    .text-container {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-start;\n      .alert {\n        font-size: ${e.typography.sizes.s};\n        margin: -0.5em 0 0.4em;\n        line-height: 1;\n        padding: ${e.gridUnit}px;\n        border-radius: ${e.gridUnit}px;\n      }\n    }\n\n    .kicker {\n      line-height: 1em;\n      padding-bottom: 2em;\n    }\n\n    .header-line {\n      position: relative;\n      line-height: 1em;\n      white-space: nowrap;\n      margin-bottom:${2*e.gridUnit}px;\n      span {\n        position: absolute;\n        bottom: 0;\n      }\n    }\n\n    .subheader-line {\n      line-height: 1em;\n      padding-bottom: 0;\n    }\n\n    &.is-fallback-value {\n      .kicker,\n      .header-line,\n      .subheader-line {\n        opacity: ${e.opacity.mediumHeavy};\n      }\n    }\n  `}
`},73865:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(35725);function a(e,t,n){let r=e,a=t(r);for(;!n(a);){if(r-=1,r<0){r=e;break}a=t(r)}return r}function i(e){const{idealFontSize:t,maxWidth:n,maxHeight:i,style:s,...o}=e;let l;if(null!=t)l=t;else{if(null==i)throw new Error("You must specify at least one of maxHeight or idealFontSize");l=Math.floor(i)}function c(e){return(0,r.A)({...o,style:{...s,fontSize:`${e}px`}})}return null!=n&&(l=a(l,c,(e=>e.width>0&&e.width<=n))),null!=i&&(l=a(l,c,(e=>e.height>0&&e.height<=i))),l}},76977:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const r=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];function a(e,{className:t,style:n={},text:a}={}){const i=e;return i.textContent!==a&&(i.textContent=void 0===a?null:a),i.getAttribute("class")!==t&&i.setAttribute("class",null!=t?t:""),i.style.removeProperty("font"),i.style.removeProperty("font-weight"),i.style.removeProperty("font-style"),i.style.removeProperty("font-size"),i.style.removeProperty("font-family"),i.style.removeProperty("letter-spacing"),r.filter((e=>void 0!==n[e]&&null!==n[e])).forEach((e=>{i.style[e]=`${n[e]}`})),i}},79305:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const r={height:20,width:100};function a(e,t=r){const{width:n,height:a}=e.getBBox?e.getBBox():t;return{height:Math.ceil(a),width:Math.ceil(n)}}},85867:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var r=n(96540),a=n(61225),i=n(96453),s=n(3087),o=n(53080),l=n(92351),c=n(42900),h=n(51719),d=n(74508),u=n(61030),g=n(45567),m=n(49714),p=n(11734),f=n(80491),y=n(25652),v=n(73900),b=n(32003),w=n(22329),A=n(31441),x=n(12458),N=n(39539),F=n(5553),k=n(45967),C=n(40830),T=n(45620),j=n(39838),S=n(42998),E=n(69380),H=n(25384),z=n(6641),M=n(28540),O=n(35278),I=n(51536),R=n(2445);const $=i.I4.div`
  height: ${({height:e})=>e};
  width: ${({width:e})=>e};
`;function L({width:e,height:t,echartOptions:i,eventHandlers:s,zrEventHandlers:c,selectedValues:h={},refs:d},u){const g=(0,r.useRef)(null);d&&(d.divRef=g);const m=(0,r.useRef)(),p=(0,r.useMemo)((()=>Object.keys(h)||[]),[h]),f=(0,r.useRef)([]);(0,r.useImperativeHandle)(u,(()=>({getEchartInstance:()=>m.current})));const y=(0,a.d4)((e=>{var t,n;return null!=(t=null==e||null==(n=e.common)?void 0:n.locale)?t:I.Xn})).toUpperCase(),v=(0,r.useCallback)((({width:e,height:t})=>{m.current&&m.current.resize({width:e,height:t})}),[]);return(0,r.useEffect)((()=>{(async()=>{if(!g.current)return;const r=await n(31746)(`./lang${y}`).catch((e=>{console.error(`Locale ${y} not supported in ECharts`,e)}));null!=r&&r.default&&(0,o.E)(y,r.default),m.current||(m.current=(0,l.Ts)(g.current,null,{locale:y})),Object.entries(s||{}).forEach((([e,t])=>{var n,r;null==(n=m.current)||n.off(e),null==(r=m.current)||r.on(e,t)})),Object.entries(c||{}).forEach((([e,t])=>{var n,r;null==(n=m.current)||n.getZr().off(e),null==(r=m.current)||r.getZr().on(e,t)})),m.current.setOption(i,!0),v({width:e,height:t})})()}),[i,s,c,y]),(0,r.useEffect)((()=>{m.current&&(m.current.dispatchAction({type:"downplay",dataIndex:f.current.filter((e=>!p.includes(e)))}),p.length&&m.current.dispatchAction({type:"highlight",dataIndex:p}),f.current=p)}),[p,m.current]),(0,r.useLayoutEffect)((()=>{v({width:e,height:t})}),[e,t,v]),(0,R.Y)($,{ref:g,height:t,width:e})}(0,s.Y)([N.a,c.a,h.a,d.a,u.a,g.a,m.a,p.a,f.a,y.a,v.a,b.a,w.a,A.a,x.a,F.a,k.a,C.a,T.a,j.a,S.a,E.a,H.a,z.a,M.a,O._]);const P=(0,r.forwardRef)(L)}}]);