(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8565],{1093:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},1189:(t,e,r)=>{"use strict";var n=Array.prototype.slice,o=r(1093),i=Object.keys,s=i?function(t){return i(t)}:r(28875),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?a(n.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},2076:(t,e,r)=>{"use strict";var n=r(69675),o=r(13541),i=r(52875),s=r(92702),a=function(){try{return delete[].length,!0}catch(t){return!1}}();t.exports=function(t,e,r,l){if(!s(t))throw new n("Assertion failed: `O` must be an Object");if(!o(e))throw new n("Assertion failed: `P` must be a Property Key");if("boolean"!=typeof l)throw new n("Assertion failed: `Throw` must be a Boolean");if(l){if(t[e]=r,a&&!i(t[e],r))throw new n("Attempted to assign to readonly property.");return!0}try{return t[e]=r,!a||i(t[e],r)}catch(t){return!1}}},2138:(t,e,r)=>{"use strict";var n=r(70453),o=r(58068),i=r(69675),s=r(77440),a=n("%Uint8Array%",!0),l=r(27881),u=r(25910),c=r(65015),f=r(84670),p=r(37070),y=r(9957),g=r(64097),d=r(45100),h=r(53795);t.exports=function(t,e,r,n,b,v){var m=p(t);if(!f(t)&&!m)throw new i("Assertion failed: `arrayBuffer` must be an ArrayBuffer or a SharedArrayBuffer");if(!s(e)||e<0)throw new i("Assertion failed: `byteIndex` must be a non-negative integer");if("string"!=typeof r||!y(g.size,"$"+r))throw new i("Assertion failed: `type` must be a Typed Array Element Type");if("number"!=typeof n&&"bigint"!=typeof n)throw new i("Assertion failed: `value` must be a Number or a BigInt");if("boolean"!=typeof b)throw new i("Assertion failed: `isTypedArray` must be a boolean");if("SEQ-CST"!==v&&"UNORDERED"!==v&&"INIT"!==v)throw new i('Assertion failed: `order` must be `"SEQ-CST"`, `"UNORDERED"`, or `"INIT"`');if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("Assertion failed: `isLittleEndian` must be a boolean, if present");if(u(t))throw new i("Assertion failed: ArrayBuffer is detached");if(l(r)?"bigint"!=typeof n:"number"!=typeof n)throw new i("Assertion failed: `value` must be a BigInt if type is ~BIGINT64~ or ~BIGUINT64~, otherwise a Number");var x=g.size["$"+r],w=c(r,n,arguments.length>6?arguments[6]:"little"===d);if(m)throw new o("SharedArrayBuffer is not supported by this implementation");var A=new a(t,e,x);h(w,(function(t,e){A[e]=t}))}},2905:(t,e,r)=>{var n=r(8186),o=r(62792),i=r(29883);o instanceof Function||(o=o.default),t.exports=function(t){if(!t)return[];var e=o(n(t)),r=[];return e.features.forEach((function(t){t.geometry&&(r=r.concat(i(t.geometry.coordinates)))})),r}},4742:(t,e,r)=>{"use strict";var n=r(58068),o=r(69675),i=r(77440),s=r(25767),a=r(64097);t.exports=function(t){var e=s(t);if(!e)throw new o("Assertion failed: `O` must be a TypedArray");var r=a.size["$"+a.name["$"+e]];if(!i(r)||r<0)throw new n("Assertion failed: Unknown TypedArray type `"+e+"`");return r}},4761:(t,e,r)=>{"use strict";var n=r(36556),o=n("String.prototype.valueOf"),i=n("Object.prototype.toString"),s=r(49092)();t.exports=function(t){return"string"==typeof t||!(!t||"object"!=typeof t)&&(s?function(t){try{return o(t),!0}catch(t){return!1}}(t):"[object String]"===i(t))}},4915:(t,e,r)=>{"use strict";var n=r(75880);t.exports=function(t){var e=128&t[3]?-1:1,r=(127&t[3])<<1|t[2]>>7,o=(127&t[2])<<16|t[1]<<8|t[0];return 0===r&&0===o?1===e?0:-0:255===r&&0===o?1===e?1/0:-1/0:255===r&&0!==o?NaN:-127==(r-=127)?e*o*n(2,-149):e*(1+o*n(2,-23))*n(2,r)}},5388:(t,e,r)=>{"use strict";var n=r(69675);t.exports=function(t){if(null==t)throw new n(arguments.length>0&&arguments[1]||"Cannot call method on "+t);return t}},6188:t=>{"use strict";t.exports=Math.max},6549:t=>{"use strict";t.exports=Object.getOwnPropertyDescriptor},6575:(t,e,r)=>{"use strict";var n=r(69675),o=r(36556),i=o("%ArrayBuffer.prototype.resizable%",!0),s=o("%SharedArrayBuffer.prototype.growable%",!0),a=r(84670),l=r(37070);t.exports=function(t){var e=a(t),r=l(t);if(!e&&!r)throw new n("Assertion failed: `arrayBuffer` must be an ArrayBuffer or SharedArrayBuffer");return e&&i?!i(t):!r||!s||!s(t)}},6966:(t,e,r)=>{"use strict";t.exports=r(69600)},7176:(t,e,r)=>{"use strict";var n,o=r(73126),i=r(75795);try{n=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var s=!!n&&i&&i(Object.prototype,"__proto__"),a=Object,l=a.getPrototypeOf;t.exports=s&&"function"==typeof s.get?o([s.get]):"function"==typeof l&&function(t){return l(null==t?t:a(t))}},8186:t=>{t.exports=function(t){if(!t||!t.type)return null;var r=e[t.type];return r?"geometry"===r?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===r?{type:"FeatureCollection",features:[t]}:"featurecollection"===r?t:void 0:null};var e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},8410:(t,e,r)=>{"use strict";var n=r(70453),o=r(69675),i=n("%Number%"),s=r(86600),a=r(10866),l=r(8679);t.exports=function(t){var e=s(t)?t:a(t,i);if("symbol"==typeof e)throw new o("Cannot convert a Symbol value to a number");if("bigint"==typeof e)throw new o("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof e?l(e):+e}},8679:(t,e,r)=>{"use strict";var n=r(70453),o=n("%RegExp%"),i=r(69675),s=n("%parseInt%"),a=r(36556),l=r(99721),u=a("String.prototype.slice"),c=l(/^0b[01]+$/i),f=l(/^0o[0-7]+$/i),p=l(/^[-+]0x[0-9a-f]+$/i),y=l(new o("["+["","​","￾"].join("")+"]","g")),g=r(20214);t.exports=function t(e){if("string"!=typeof e)throw new i("Assertion failed: `argument` is not a String");if(c(e))return+s(u(e,2),2);if(f(e))return+s(u(e,2),8);if(y(e)||p(e))return NaN;var r=g(e);return r!==e?t(r):+e}},9693:(t,e,r)=>{"use strict";var n=r(70453)("%BigInt%",!0),o=r(69675),i=r(58068);t.exports=function(t){if("string"!=typeof t)throw new o("`argument` must be a string");if(!n)throw new i("BigInts are not supported in this environment");try{return n(t)}catch(t){return}}},9957:(t,e,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(66743);t.exports=i.call(n,o)},10076:t=>{"use strict";t.exports=Function.prototype.call},10487:(t,e,r)=>{"use strict";var n=r(96897),o=r(30655),i=r(73126),s=r(12205);t.exports=function(t){var e=i(arguments),r=t.length-(arguments.length-1);return n(e,1+(r>0?r:0),!0)},o?o(t.exports,"apply",{value:s}):t.exports.apply=s},10533:(t,e,r)=>{"use strict";t.exports=r(21412)},10866:(t,e,r)=>{"use strict";var n=r(95437);t.exports=function(t){return arguments.length>1?n(t,arguments[1]):n(t)}},11002:t=>{"use strict";t.exports=Function.prototype.apply},11087:(t,e,r)=>{"use strict";t.exports=r(77440)},12205:(t,e,r)=>{"use strict";var n=r(66743),o=r(11002),i=r(13144);t.exports=function(){return i(n,o,arguments)}},12648:(t,e,r)=>{"use strict";var n=r(70453),o=r(36556),i=n("%WeakSet%",!0),s=o("WeakSet.prototype.has",!0);if(s){var a=o("WeakMap.prototype.has",!0);t.exports=function(t){if(!t||"object"!=typeof t)return!1;try{if(s(t,s),a)try{a(t,a)}catch(t){return!0}return t instanceof i}catch(t){}return!1}}else t.exports=function(t){return!1}},13144:(t,e,r)=>{"use strict";var n=r(66743),o=r(11002),i=r(10076),s=r(47119);t.exports=s||n.call(i,o)},13541:t=>{"use strict";t.exports=function(t){return"string"==typeof t||"symbol"==typeof t}},13557:(t,e,r)=>{"use strict";var n=r(54224),o=r(8410),i=r(63384),s=r(63331);t.exports=function(t){var e=o(t);if(!s(e)||0===e)return 0;var r=i(e),a=n(r,65536);return a>=32768?a-65536:a}},14035:(t,e,r)=>{"use strict";var n,o=r(36556),i=r(49092)(),s=r(9957),a=r(75795);if(i){var l=o("RegExp.prototype.exec"),u={},c=function(){throw u},f={toString:c,valueOf:c};"symbol"==typeof Symbol.toPrimitive&&(f[Symbol.toPrimitive]=c),n=function(t){if(!t||"object"!=typeof t)return!1;var e=a(t,"lastIndex");if(!e||!s(e,"value"))return!1;try{l(t,f)}catch(t){return t===u}}}else{var p=o("Object.prototype.toString");n=function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===p(t)}}t.exports=n},17030:(t,e,r)=>{"use strict";var n=r(69675),o=r(55701),i=r(52997);t.exports=function(t){if(void 0!==t&&!o(t))throw new n("Assertion failed: `Desc` must be a Property Descriptor");return i(t)}},17057:(t,e,r)=>{"use strict";var n=r(58068),o=r(69675),i=r(25767),s=r(39209)(),a=r(10533),l=r(17732),u=r(19531),c=r(82697);t.exports=function(t,e){if(0===s.length)throw new n("Assertion failed: Typed Arrays are not supported in this environment");var r=i(t);if(!r)throw new o("Assertion failed: exemplar must be a TypedArray");if(!a(e))throw new o("Assertion failed: `argumentList` must be a List");var f=c(r);if("function"!=typeof f)throw new n("Assertion failed: `constructor` of `exemplar` ("+r+") must exist. Please report this!");var p=l(t,f);return u(p,e)}},17732:(t,e,r)=>{"use strict";var n=r(70453)("%Symbol.species%",!0),o=r(69675),i=r(34528),s=r(92702);t.exports=function(t,e){if(!s(t))throw new o("Assertion failed: Type(O) is not Object");var r=t.constructor;if(void 0===r)return e;if(!s(r))throw new o("O.constructor is not an Object");var a=n?r[n]:void 0;if(null==a)return e;if(i(a))return a;throw new o("no constructor found")}},18173:(t,e,r)=>{"use strict";var n=r(36556)("WeakRef.prototype.deref",!0);t.exports="undefined"==typeof WeakRef?function(t){return!1}:function(t){if(!t||"object"!=typeof t)return!1;try{return n(t),!0}catch(t){return!1}}},18968:(t,e,r)=>{"use strict";var n=r(75880);t.exports=function(t){var e=128&t[7]?-1:1,r=(127&t[7])<<4|(240&t[6])>>4,o=281474976710656*(15&t[6])+1099511627776*t[5]+4294967296*t[4]+16777216*t[3]+65536*t[2]+256*t[1]+t[0];return 0===r&&0===o?0*e:2047===r&&0!==o?NaN:2047===r&&0===o?e*(1/0):-1023==(r-=1023)?e*o*5e-324:e*(1+o/4503599627370496)*n(2,r)}},19511:(t,e,r)=>{"use strict";var n=r(36556)("ArrayBuffer.prototype.byteLength",!0),o=r(84670);t.exports=function(t){return o(t)?n?n(t):t.byteLength:NaN}},19531:(t,e,r)=>{"use strict";var n=r(58068),o=r(69675),i=r(10533),s=r(34528),a=r(45291),l=r(99271),u=r(91509),c=r(39209)();t.exports=function(t,e){if(!s(t))throw new o("Assertion failed: `constructor` must be a constructor");if(!i(e))throw new o("Assertion failed: `argumentList` must be a List");if(0===c.length)throw new n("Assertion failed: Typed Arrays are not supported in this environment");var r;r=0===e.length?new t:1===e.length?new t(e[0]):2===e.length?new t(e[0],e[1]):new t(e[0],e[1],e[2]);var f=u(r,"SEQ-CST");if(1===e.length&&"number"==typeof e[0]){if(a(f))throw new o("new Typed Array is out of bounds");if(l(f)<e[0])throw new o("`argumentList[0]` must be <= `newTypedArray.length`")}return r}},19723:(t,e,r)=>{"use strict";var n=r(81539),o=r(60593),i=r(25767),s=r(64634),a=r(62120),l=r(14035),u=r(18173),c=r(23811),f=r(21482),p=r(48184),y=r(45351),g=r(36556),d=r(49092)()&&Symbol.toStringTag,h=Object,b=g("Promise.prototype.then",!0),v=function(t){return!!t&&"BigInt"!==t&&"Boolean"!==t&&"Null"!==t&&"Number"!==t&&"String"!==t&&"Symbol"!==t&&"Undefined"!==t&&"Math"!==t&&"JSON"!==t&&"Reflect"!==t&&"Atomics"!==t&&"Map"!==t&&"Set"!==t&&"WeakMap"!==t&&"WeakSet"!==t&&"BigInt64Array"!==t&&"BigUint64Array"!==t&&"Float32Array"!==t&&"Float64Array"!==t&&"Int16Array"!==t&&"Int32Array"!==t&&"Int8Array"!==t&&"Uint16Array"!==t&&"Uint32Array"!==t&&"Uint8Array"!==t&&"Uint8ClampedArray"!==t&&"Array"!==t&&"Date"!==t&&"FinalizationRegistry"!==t&&"Promise"!==t&&"RegExp"!==t&&"WeakRef"!==t&&"Function"!==t&&"GeneratorFunction"!==t&&"AsyncFunction"!==t};t.exports=function(t){if(null==t)return t;var e=n(h(t))||o(t)||i(t);if(e)return e;if(s(t))return"Array";if(a(t))return"Date";if(l(t))return"RegExp";if(u(t))return"WeakRef";if(c(t))return"FinalizationRegistry";if("function"==typeof t)return p(t)?"GeneratorFunction":y(t)?"AsyncFunction":"Function";if(function(t){if(!t||"object"!=typeof t||!b)return!1;try{return b(t,null,(function(){})),!0}catch(t){}return!1}(t))return"Promise";if(d&&d in t){var r=t[d];if(v(r))return r}if("function"==typeof t.constructor){var g=f(t.constructor);if(v(g))return g}return"Object"}},19887:(t,e,r)=>{"use strict";var n=r(70453)("%BigInt%",!0),o=r(75880),i=r(22964),s=r(99969),a=r(40122),l=n&&BigInt(o(2,32))*BigInt(o(2,32));t.exports=function(t){var e=i(t);return a(s,e,l)}},20214:(t,e,r)=>{"use strict";var n=r(10487),o=r(38452),i=r(5388),s=r(68206),a=r(74895),l=r(79377),u=n(a()),c=function(t){return i(t),u(t)};o(c,{getPolyfill:a,implementation:s,shim:l}),t.exports=c},21412:(t,e,r)=>{"use strict";var n=r(70453)("%Array%"),o=!n.isArray&&r(36556)("Object.prototype.toString");t.exports=n.isArray||function(t){return"[object Array]"===o(t)}},21482:(t,e,r)=>{"use strict";var n=r(38452),o=r(10487),i=r(60034),s=r(92747),a=r(68013),l=o(i);n(l,{getPolyfill:s,implementation:i,shim:a}),t.exports=l},21703:(t,e,r)=>{"use strict";var n=r(36556),o=n("Number.prototype.toString"),i=n("Object.prototype.toString"),s=r(49092)();t.exports=function(t){return"number"==typeof t||!(!t||"object"!=typeof t)&&(s?function(t){try{return o(t),!0}catch(t){return!1}}(t):"[object Number]"===i(t))}},22964:(t,e,r)=>{"use strict";var n=r(70453),o=n("%BigInt%",!0),i=n("%Number%"),s=r(69675),a=r(58068),l=r(9693),u=r(10866);t.exports=function(t){if(!o)throw new a("BigInts are not supported in this environment");var e=u(t,i);if(null==e)throw new s("Cannot convert null or undefined to a BigInt");if("boolean"==typeof e)return o(e?1:0);if("number"==typeof e)throw new s("Cannot convert a Number value to a BigInt");if("string"==typeof e){var r=l(e);if(void 0===r)throw new s("Failed to parse String to BigInt");return r}if("symbol"==typeof e)throw new s("Cannot convert a Symbol value to a BigInt");if("bigint"!=typeof e)throw new a("Assertion failed: unknown primitive type");return e}},23811:(t,e,r)=>{"use strict";var n=r(36556)("FinalizationRegistry.prototype.register",!0);t.exports=n?function(t){if(!t||"object"!=typeof t)return!1;try{return n(t,{},null),!0}catch(t){return!1}}:function(t){return!1}},24751:(t,e,r)=>{"use strict";var n=r(70453),o=n("%Number%"),i=n("%BigInt%",!0);t.exports=function(t,e,r){var n="bigint"==typeof t?i:o;t<0&&(t>>>=0);for(var s=[],a=0;a<e;a++)s[r?a:e-1-a]=o(t&n(255)),t>>=n(8);return s}},24810:(t,e,r)=>{"use strict";var n=r(70453)("%String%"),o=r(69675);t.exports=function(t){if("symbol"==typeof t)throw new o("Cannot convert a Symbol value to a string");return n(t)}},25767:(t,e,r)=>{"use strict";var n=r(82682),o=r(39209),i=r(10487),s=r(36556),a=r(75795),l=s("Object.prototype.toString"),u=r(49092)(),c="undefined"==typeof globalThis?r.g:globalThis,f=o(),p=s("String.prototype.slice"),y=Object.getPrototypeOf,g=s("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},d={__proto__:null};n(f,u&&a&&y?function(t){var e=new c[t];if(Symbol.toStringTag in e){var r=y(e),n=a(r,Symbol.toStringTag);if(!n){var o=y(r);n=a(o,Symbol.toStringTag)}d["$"+t]=i(n.get)}}:function(t){var e=new c[t],r=e.slice||e.set;r&&(d["$"+t]=i(r))}),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!u){var e=p(l(t),8,-1);return g(f,e)>-1?e:"Object"===e&&function(t){var e=!1;return n(d,(function(r,n){if(!e)try{r(t),e=p(n,1)}catch(t){}})),e}(t)}return a?function(t){var e=!1;return n(d,(function(r,n){if(!e)try{"$"+r(t)===n&&(e=p(n,1))}catch(t){}})),e}(t):null}},25879:(t,e,r)=>{var n=r(2905),o=r(36623),i=r(65233),s={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},a=Object.keys(s);function l(t){for(var e=i(),r=n(t),o=0;o<r.length;o++)e.include(r[o]);return e}t.exports=function(t){return l(t).bbox()},t.exports.polygon=function(t){return l(t).polygon()},t.exports.bboxify=function(t){return o(t).map((function(t){t&&a.some((function(e){return!!t[e]&&-1!==s[e].indexOf(t.type)}))&&(t.bbox=l(t).bbox(),this.update(t))}))}},25910:(t,e,r)=>{"use strict";var n=r(69675),o=r(19511),i=r(39209)(),s=r(36556),a=r(84670),l=r(37070),u=s("SharedArrayBuffer.prototype.byteLength",!0);t.exports=function(t){var e=l(t);if(!a(t)&&!e)throw new n("Assertion failed: `arrayBuffer` must be an Object with an [[ArrayBufferData]] internal slot");if(0===(e?u:o)(t))try{new r.g[i[0]](t)}catch(t){return!!t&&"TypeError"===t.name}return!1}},27149:(t,e,r)=>{"use strict";var n=r(69675),o=r(25910),i=r(84670),s=r(37070),a=r(19511);t.exports=function(t,e){var r=s(t);if(!i(t)&&!r)throw new n("Assertion failed: `arrayBuffer` must be an ArrayBuffer or a SharedArrayBuffer");if("SEQ-CST"!==e&&"UNORDERED"!==e)throw new n("Assertion failed: `order` must be ~SEQ-CST~ or ~UNORDERED~");if(o(t))throw new n("Assertion failed: `arrayBuffer` must not be detached");return a(t)}},27881:t=>{"use strict";t.exports=function(t){return"BIGUINT64"===t||"BIGINT64"===t}},28131:(t,e,r)=>{"use strict";var n=r(69675),o=r(9957),i=r(55701);t.exports=function(t){if(void 0===t)return!1;if(!i(t))throw new n("Assertion failed: `Desc` must be a Property Descriptor");return!(!o(t,"[[Value]]")&&!o(t,"[[Writable]]"))}},28875:(t,e,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(1093),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===i.call(t),n=s(t),a=e&&"[object String]"===i.call(t),p=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var g=u&&r;if(a&&t.length>0&&!o.call(t,0))for(var d=0;d<t.length;++d)p.push(String(d));if(n&&t.length>0)for(var h=0;h<t.length;++h)p.push(String(h));else for(var b in t)g&&"prototype"===b||!o.call(t,b)||p.push(String(b));if(l)for(var v=function(t){if("undefined"==typeof window||!y)return f(t);try{return f(t)}catch(t){return!1}}(t),m=0;m<c.length;++m)v&&"constructor"===c[m]||!o.call(t,c[m])||p.push(c[m]);return p}}t.exports=n},28894:(t,e,r)=>{"use strict";var n=r(70453)("%parseInt%"),o=r(71514),i=r(58968),s=r(98017),a=r(36556),l=a("String.prototype.indexOf"),u=a("String.prototype.slice"),c=r(99154),f=r(68213),p="11111111111",y="00000000000",g=y+y+y+y+"0000000";t.exports=function(t,e){var r,a,d=t<0||s(t)?"1":"0";if(isNaN(t))r=p,a="1"+g;else if(isFinite(t))if(0===t)r=y,a="0"+g;else{t=o(t);var h,b=i(t),v=f(b),m=c(t-b);if(v)r=v.length-1;else{var x=l(m,"1");x>-1&&(h=x+1),r=-h}a=v+m,r<0?(r<=-1023&&(h=1022),a=u(a,h)):a=u(a,1),r=u(y+f(r+1023),-11),a=u(a+g+"0",0,52)}else r=p,a="0"+g;for(var w=d+r+a,A=[],S=0;S<8;S++)A[e?8-S-1:S]=n(u(w,8*S,8*(S+1)),2);return A}},29790:t=>{"use strict";var e="undefined"!=typeof BigInt&&BigInt;t.exports=function(){return"function"==typeof e&&"function"==typeof BigInt&&"bigint"==typeof e(42)&&"bigint"==typeof BigInt(42)}},29883:t=>{t.exports=function(t){return function t(e){return Array.isArray(e)&&e.length&&"number"==typeof e[0]?[e]:e.reduce((function(e,r){return Array.isArray(r)&&Array.isArray(r[0])?e.concat(t(r)):(e.push(r),e)}),[])}(t)}},30113:(t,e,r)=>{"use strict";t.exports=r(81350)},30592:(t,e,r)=>{"use strict";var n=r(30655),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},30655:t=>{"use strict";var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}t.exports=e},32779:(t,e,r)=>{"use strict";var n=r(71514),o=r(58968),i=r(75880),s=r(63331),a=r(94459),l=r(98017);t.exports=function(t,e){if(a(t))return e?[0,0,192,127]:[127,192,0,0];var r;if(0===t)return r=l(t)?128:0,e?[0,0,0,r]:[r,0,0,0];if(n(t)>34028234663852886e22||!s(t))return r=t<0?255:127,e?[0,0,128,r]:[r,128,0,0];var u=t<0?1:0;t=n(t);for(var c=0;t>=2;)c+=1,t/=2;for(;t<1;)c-=1,t*=2;var f=t-1;f*=i(2,23)+.5,c+=127;var p=u<<31|(c<<=23)|(f=o(f)),y=255&p,g=255&(p>>=8),d=255&(p>>=8),h=255&(p>>=8);return e?[y,g,d,h]:[h,d,g,y]}},33549:(t,e,r)=>{"use strict";r.d(e,{A:()=>g});var n=r(75077),o=r(82101),i=r(23197),s=r(16704),a=r(83391),l=r(77117);const u="uniform scatterplotUniforms {\n  float radiusScale;\n  float radiusMinPixels;\n  float radiusMaxPixels;\n  float lineWidthScale;\n  float lineWidthMinPixels;\n  float lineWidthMaxPixels;\n  float stroked;\n  bool filled;\n  bool antialiasing;\n  bool billboard;\n  highp int radiusUnits;\n  highp int lineWidthUnits;\n} scatterplot;\n",c={name:"scatterplot",vs:u,fs:u,uniformTypes:{radiusScale:"f32",radiusMinPixels:"f32",radiusMaxPixels:"f32",lineWidthScale:"f32",lineWidthMinPixels:"f32",lineWidthMaxPixels:"f32",stroked:"f32",filled:"f32",antialiasing:"f32",billboard:"f32",radiusUnits:"i32",lineWidthUnits:"i32"}},f=[0,0,0,255],p={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:t=>t.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:f},getLineColor:{type:"accessor",value:f},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class y extends n.A{getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME scatterplot-layer-vertex-shader\nin vec3 positions;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin float instanceRadius;\nin float instanceLineWidths;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin vec3 instancePickingColors;\nout vec4 vFillColor;\nout vec4 vLineColor;\nout vec2 unitPosition;\nout float innerUnitRadius;\nout float outerRadiusPixels;\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\nouterRadiusPixels = clamp(\nproject_size_to_pixel(scatterplot.radiusScale * instanceRadius, scatterplot.radiusUnits),\nscatterplot.radiusMinPixels, scatterplot.radiusMaxPixels\n);\nfloat lineWidthPixels = clamp(\nproject_size_to_pixel(scatterplot.lineWidthScale * instanceLineWidths, scatterplot.lineWidthUnits),\nscatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels\n);\nouterRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;\nfloat edgePadding = scatterplot.antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\nunitPosition = edgePadding * positions.xy;\ngeometry.uv = unitPosition;\ngeometry.pickingColor = instancePickingColors;\ninnerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / outerRadiusPixels;\nif (scatterplot.billboard) {\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nvec3 offset = edgePadding * positions * outerRadiusPixels;\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n} else {\nvec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n}\nvFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);\nDECKGL_FILTER_COLOR(vFillColor, geometry);\nvLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);\nDECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME scatterplot-layer-fragment-shader\nprecision highp float;\nin vec4 vFillColor;\nin vec4 vLineColor;\nin vec2 unitPosition;\nin float innerUnitRadius;\nin float outerRadiusPixels;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = unitPosition;\nfloat distToCenter = length(unitPosition) * outerRadiusPixels;\nfloat inCircle = scatterplot.antialiasing ?\nsmoothedge(distToCenter, outerRadiusPixels) :\nstep(distToCenter, outerRadiusPixels);\nif (inCircle == 0.0) {\ndiscard;\n}\nif (scatterplot.stroked > 0.5) {\nfloat isLine = scatterplot.antialiasing ?\nsmoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\nstep(innerUnitRadius * outerRadiusPixels, distToCenter);\nif (scatterplot.filled) {\nfragColor = mix(vFillColor, vLineColor, isLine);\n} else {\nif (isLine == 0.0) {\ndiscard;\n}\nfragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n}\n} else if (scatterplot.filled == false) {\ndiscard;\n} else {\nfragColor = vFillColor;\n}\nfragColor.a *= inCircle;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[o.A,i.A,c]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(t){super.updateState(t),t.changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:t}){const{radiusUnits:e,radiusScale:r,radiusMinPixels:n,radiusMaxPixels:o,stroked:i,filled:a,billboard:l,antialiasing:u,lineWidthUnits:c,lineWidthScale:f,lineWidthMinPixels:p,lineWidthMaxPixels:y}=this.props,g={stroked:i,filled:a,billboard:l,antialiasing:u,radiusUnits:s.p5[e],radiusScale:r,radiusMinPixels:n,radiusMaxPixels:o,lineWidthUnits:s.p5[c],lineWidthScale:f,lineWidthMinPixels:p,lineWidthMaxPixels:y},d=this.state.model;d.shaderInputs.setProps({scatterplot:g}),d.draw(this.context.renderPass)}_getModel(){return new l.K(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new a.V({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,-1,1,0,1,1,0])}}}),isInstanced:!0})}}y.defaultProps=p,y.layerName="ScatterplotLayer";const g=y},34528:(t,e,r)=>{"use strict";var n=r(61376)("%Reflect.construct%",!0),o=r(90893);try{o({},"",{"[[Get]]":function(){}})}catch(t){o=null}if(o&&n){var i={},s={};o(s,"length",{"[[Get]]":function(){throw i},"[[Enumerable]]":!0}),t.exports=function(t){try{n(t,s)}catch(t){return t===i}}}else t.exports=function(t){return"function"==typeof t&&!!t.prototype}},34770:(t,e,r)=>{"use strict";var n=r(54224),o=r(8410),i=r(63384),s=r(63331);t.exports=function(t){var e=o(t);if(!s(e)||0===e)return 0;var r=i(e),a=n(r,4294967296);return 0===a?0:a}},35345:t=>{"use strict";t.exports=URIError},35680:(t,e,r)=>{"use strict";var n=r(25767);t.exports=function(t){return!!n(t)}},36039:(t,e,r)=>{"use strict";var n=r(63331),o=r(54224),i=r(8410),s=r(63384);t.exports=function(t){var e=i(t);if(!n(e)||0===e)return 0;var r=s(e);return o(r,256)}},36268:(t,e,r)=>{"use strict";var n=r(70453),o=r(6966),i=r(92702),s=r(19723),a=r(69675),l=r(93628),u=r(79612);t.exports=function(t){if(!i(t))throw new a("Reflect.getPrototypeOf called on non-object");if(l)return l(t);var e=s(t);if(e){var r=n("%"+e+".prototype%",!0);if(r)return r}return o(t.constructor)?t.constructor.prototype:t instanceof Object?u.prototype:null}},36556:(t,e,r)=>{"use strict";var n=r(70453),o=r(73126),i=o([n("%String.prototype.indexOf%")]);t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")>-1?o([r]):r}},36623:(t,e,r)=>{"use strict";var n=r(25767),o=r(53432),i=r(75795);function s(t){return Object.prototype.toString.call(t)}var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function l(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)}var u=Object.keys||function(t){var e=[];for(var r in t)e[e.length]=r;return e},c=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols;function p(t){var e=u(t);if(f)for(var r=f(t),n=0;n<r.length;n++)c.call(t,r[n])&&(e[e.length]=r[n]);return e}var y=Object.prototype.hasOwnProperty||function(t,e){return e in t};function g(t,e){if("object"==typeof t&&null!==t){var r;if(a(t))r=[];else if("[object Date]"===s(t))r=new Date(t.getTime?t.getTime():t);else if("[object RegExp]"===s(t))r=new RegExp(t);else if(function(t){return"[object Error]"===s(t)}(t))r={message:t.message};else if(function(t){return"[object Boolean]"===s(t)}(t)||function(t){return"[object Number]"===s(t)}(t)||function(t){return"[object String]"===s(t)}(t))r=Object(t);else{if(n(t))return o(t);if(Object.create&&Object.getPrototypeOf)r=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)r={};else{var i=t.constructor&&t.constructor.prototype||t.__proto__||{},c=function(){};c.prototype=i,r=new c}}return l((e.includeSymbols?p:u)(t),(function(e){r[e]=t[e]})),r}return t}var d={__proto__:null};function h(t,e){var r=[],n=[],o=!0,s=arguments.length>2?arguments[2]:d,c=s.includeSymbols?p:u,f=!!s.immutable;return function t(u){var p=f?g(u,s):u,d={__proto__:null},h=!0,b={node:p,node_:u,path:[].concat(r),parent:n[n.length-1],parents:n,key:r[r.length-1],removedKeys:{__proto__:null},isRoot:0===r.length,level:r.length,circular:null,update:function(t,e){b.isRoot||(b.parent.node[b.key]=t),b.node=t,e&&(h=!1)},delete:function(t){delete b.parent.node[b.key],b.parent.removedKeys[b.key]=!0,t&&(h=!1)},remove:function(t){a(b.parent.node)?(b.parent.node.splice(b.key,1),b.parent.removedKeys[b.key]=!0,t&&(h=!1)):b.delete(t)},keys:null,before:function(t){d.before=t},after:function(t){d.after=t},pre:function(t){d.pre=t},post:function(t){d.post=t},stop:function(){o=!1},block:function(){h=!1}};if(!o)return b;function v(){if("object"==typeof b.node&&null!==b.node){b.keys&&b.node_===b.node||(b.keys=c(b.node)),b.isLeaf=0===b.keys.length;for(var t=0;t<n.length;t++)if(n[t].node_===u){b.circular=n[t];break}}else b.isLeaf=!0,b.keys=null;b.notLeaf=!b.isLeaf,b.notRoot=!b.isRoot}v();var m=e.call(b,b.node);return void 0!==m&&b.update&&b.update(m),d.before&&d.before.call(b,b.node),h?("object"!=typeof b.node||null===b.node||b.circular||(n[n.length]=b,v(),l(b.keys,(function(e,n){var o=n-1 in b.removedKeys;o&&(e=b.keys[n-1]),r[r.length]=e,d.pre&&d.pre.call(b,b.node[e],e);var s=t(b.node[e]);f&&y.call(b.node,e)&&!function(t,e){if("function"!=typeof i)return!0;var r=i(t,e);return!r||!r.writable}(b.node,e)&&!o&&(b.node[e]=s.node),s.isLast=n===b.keys.length-1,s.isFirst=0===n,d.post&&d.post.call(b,s),r.pop()})),n.pop()),d.after&&d.after.call(b,b.node),b):b}(t).node}function b(t){this.options=arguments.length>1?arguments[1]:d,this.value=t}function v(t){return new b(t,arguments.length>1?arguments[1]:d)}b.prototype.get=function(t){for(var e=this.value,r=0;e&&r<t.length;r++){var n=t[r];if(!y.call(e,n)||!this.options.includeSymbols&&"symbol"==typeof n)return;e=e[n]}return e},b.prototype.has=function(t){var e=this.value;if(!e&&t.length>0)return!1;for(var r=0;e&&r<t.length;r++){var n=t[r];if(!y.call(e,n)||!this.options.includeSymbols&&"symbol"==typeof n)return!1;e=e[n]}return!0},b.prototype.set=function(t,e){for(var r=this.value,n=0;n<t.length-1;n++){var o=t[n];y.call(r,o)||(r[o]={}),r=r[o]}return r[t[n]]=e,e},b.prototype.map=function(t){return h(this.value,t,{__proto__:null,immutable:!0,includeSymbols:!!this.options.includeSymbols})},b.prototype.forEach=function(t){return this.value=h(this.value,t,this.options),this.value},b.prototype.reduce=function(t,e){var r=1===arguments.length,n=r?this.value:e;return this.forEach((function(e){this.isRoot&&r||(n=t.call(this,n,e))})),n},b.prototype.paths=function(){var t=[];return this.forEach((function(){t[t.length]=this.path})),t},b.prototype.nodes=function(){var t=[];return this.forEach((function(){t[t.length]=this.node})),t},b.prototype.clone=function(){var t=[],e=[],r=this.options;return n(this.value)?o(this.value):function n(o){for(var i=0;i<t.length;i++)if(t[i]===o)return e[i];if("object"==typeof o&&null!==o){var s=g(o,r);return t[t.length]=o,e[e.length]=s,l((r.includeSymbols?p:u)(o),(function(t){s[t]=n(o[t])})),t.pop(),e.pop(),s}return o}(this.value)},l(p(b.prototype),(function(t){v[t]=function(e){var r=[].slice.call(arguments,1),n=new b(e);return n[t].apply(n,r)}})),t.exports=v},37070:(t,e,r)=>{"use strict";var n=r(36556)("SharedArrayBuffer.prototype.byteLength",!0);t.exports=n?function(t){if(!t||"object"!=typeof t)return!1;try{return n(t),!0}catch(t){return!1}}:function(t){return!1}},37196:(t,e,r)=>{"use strict";var n=r(8410),o=r(63384),i=r(94459),s=r(63331);t.exports=function(t){var e=n(t);return i(e)||0===e?0:s(e)?o(e):e}},38268:(t,e,r)=>{"use strict";var n=r(69675),o=r(60280),i=r(79901),s=r(25910),a=r(6188),l=r(68002),u=r(2076),c=r(2138),f=r(37196),p=r(24810),y=r(4742),g=r(48800),d=r(17057),h=r(91509),b=r(74372),v=r(72308);t.exports=function(t,e){var r=this;h(r,"SEQ-CST");var m,x=r.length,w=f(t);m=w===-1/0?0:w<0?a(x+w,0):l(w,x);var A,S=void 0===e?x:f(e);A=S===-1/0?0:S<0?a(x+S,0):l(S,x);var _=a(A-m,0),P=d(r,[_]);if(_>0){if(s(b(r)))throw new n("Cannot use a Typed Array with an underlying ArrayBuffer that is detached");if(g(r)===g(P))for(var O=b(r),I=b(P),C=y(r),T=m*C+v(r),F=v(P),j=F+_*C;F<j;){var E=i(O,T,"UINT8",!0,"UNORDERED");c(I,F,"UINT8",E,!0,"UNORDERED"),T+=1,F+=1}else for(var M=0;m<A;){var L=p(m),B=o(r,L);u(P,p(M),B,!0),m+=1,M+=1}}return P}},38452:(t,e,r)=>{"use strict";var n=r(1189),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=r(52422),l=r(30592)(),u=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==i.call(o)||!n())return;var o;l?a(t,e,r,!0):a(t,e,r)},c=function(t,e){var r=arguments.length>2?arguments[2]:{},i=n(e);o&&(i=s.call(i,Object.getOwnPropertySymbols(e)));for(var a=0;a<i.length;a+=1)u(t,i[a],e[i[a]],r[i[a]])};c.supportsDescriptors=!!l,t.exports=c},39209:(t,e,r)=>{"use strict";var n=r(76578),o="undefined"==typeof globalThis?r.g:globalThis;t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof o[n[e]]&&(t[t.length]=n[e]);return t}},39803:(t,e,r)=>{"use strict";if(r(29790)()){var n=BigInt.prototype.valueOf;t.exports=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||function(t){try{return n.call(t),!0}catch(t){}return!1}(t))}}else t.exports=function(t){return!1}},40122:t=>{"use strict";t.exports=function(t,e,r){var n=t(e,r);return n>=0?n:n+r}},41237:t=>{"use strict";t.exports=EvalError},41333:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},42491:(t,e,r)=>{"use strict";var n=r(69675),o=r(9957),i=r(92702),s=r(13541);t.exports=function(t,e){if(!i(t))throw new n("Assertion failed: `O` must be an Object");if(!s(e))throw new n("Assertion failed: `P` must be a Property Key");return o(t,e)}},44138:t=>{"use strict";t.exports=function(t,e){for(var r=0;r<t.length;r+=1)if(!e(t[r],r,t))return!1;return!0}},44323:t=>{"use strict";t.exports=function(t){return!!t}},45100:(t,e,r)=>{"use strict";var n=r(70453),o=n("%Uint8Array%",!0),i=n("%Uint32Array%",!0),s=r(74372),a=i&&new i([305419896]),l=a&&new o(s(a));t.exports=l?120===l[0]?"little":18===l[0]?"big":52===l[0]?"mixed":"unknown":"indeterminate"},45291:(t,e,r)=>{"use strict";var n=r(69675),o=r(25910),i=r(4742),s=r(69346),a=r(74372),l=r(72308),u=r(66058);t.exports=function(t){if(!s(t))throw new n("Assertion failed: `taRecord` must be a TypedArray With Buffer Witness Record");var e=t["[[Object]]"],r=t["[[CachedBufferByteLength]]"];if(o(a(e))&&"DETACHED"!==r)throw new n("Assertion failed: typed array is detached only if the byte length is ~DETACHED~");if("DETACHED"===r)return!0;var c,f=l(e),p=u(e);return c="AUTO"===p?r:f+p*i(e),f>r||c>r}},45351:(t,e,r)=>{"use strict";var n=r(36556),o=r(99721),i=n("Object.prototype.toString"),s=n("Function.prototype.toString"),a=o(/^\s*async(?:\s+function(?:\s+|\()|\s*\()/),l=r(49092)(),u=r(93628),c=r(93870);t.exports=function(t){if("function"!=typeof t)return!1;if(a(s(t)))return!0;if(!l)return"[object AsyncFunction]"===i(t);if(!u)return!1;var e=c();return e&&e.prototype===u(t)}},47119:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},48184:(t,e,r)=>{"use strict";var n,o=r(36556),i=r(99721)(/^\s*(?:function)?\*/),s=r(49092)(),a=r(93628),l=o("Object.prototype.toString"),u=o("Function.prototype.toString");t.exports=function(t){if("function"!=typeof t)return!1;if(i(u(t)))return!0;if(!s)return"[object GeneratorFunction]"===l(t);if(!a)return!1;if(void 0===n){var e=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(t){}}();n=!!e&&a(e)}return a(t)===n}},48648:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},48800:(t,e,r)=>{"use strict";var n=r(58068),o=r(69675),i=r(25767),s=r(64097);t.exports=function(t){var e=i(t);if(!e)throw new o("Assertion failed: `O` must be a TypedArray");var r=s.name["$"+e];if("string"!=typeof r)throw new n("Assertion failed: Unknown TypedArray type `"+e+"`");return r}},49092:(t,e,r)=>{"use strict";var n=r(41333);t.exports=function(){return n()&&!!Symbol.toStringTag}},49373:t=>{"use strict";t.exports=function(t){return"UINT8"===t||"UINT8C"===t||"UINT16"===t||"UINT32"===t||"BIGUINT64"===t}},52158:t=>{"use strict";t.exports=function(t){return"number"==typeof t&&t>=0&&t<=255&&(0|t)===t}},52422:(t,e,r)=>{"use strict";var n=r(30655),o=r(58068),i=r(69675),s=r(75795);t.exports=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new i("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],f=!!s&&s(t,e);if(n)n(t,e,{configurable:null===u&&f?f.configurable:!u,enumerable:null===a&&f?f.enumerable:!a,value:r,writable:null===l&&f?f.writable:!l});else{if(!c&&(a||l||u))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},52521:(t,e,r)=>{"use strict";var n=r(38268);t.exports=function(){return"function"==typeof Uint8Array&&Uint8Array.prototype.slice||n}},52875:(t,e,r)=>{"use strict";var n=r(94459);t.exports=function(t,e){return t===e?0!==t||1/t==1/e:n(t)&&n(e)}},52997:t=>{"use strict";t.exports=function(t){if(void 0===t)return t;var e={};return"[[Value]]"in t&&(e.value=t["[[Value]]"]),"[[Writable]]"in t&&(e.writable=!!t["[[Writable]]"]),"[[Get]]"in t&&(e.get=t["[[Get]]"]),"[[Set]]"in t&&(e.set=t["[[Set]]"]),"[[Enumerable]]"in t&&(e.enumerable=!!t["[[Enumerable]]"]),"[[Configurable]]"in t&&(e.configurable=!!t["[[Configurable]]"]),e}},53432:(t,e,r)=>{"use strict";var n=r(38452),o=r(10487),i=r(38268),s=r(52521),a=r(98599),l=o(s());n(l,{getPolyfill:s,implementation:i,shim:a}),t.exports=l},53795:t=>{"use strict";t.exports=function(t,e){for(var r=0;r<t.length;r+=1)e(t[r],r,t)}},54224:(t,e,r)=>{"use strict";var n=r(30113);t.exports=function(t,e){return n(t,e)}},55701:(t,e,r)=>{"use strict";var n=r(69675),o=r(9957),i={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};t.exports=function(t){if(!t||"object"!=typeof t)return!1;for(var e in t)if(o(t,e)&&!i[e])return!1;var r=o(t,"[[Value]]")||o(t,"[[Writable]]"),s=o(t,"[[Get]]")||o(t,"[[Set]]");if(r&&s)throw new n("Property Descriptors may not be both accessor and data descriptors");return!0}},55986:(t,e,r)=>{"use strict";var n=r(58968);t.exports=function(t){return"bigint"==typeof t?t:n(t)}},58068:t=>{"use strict";t.exports=SyntaxError},58859:(t,e,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&l&&"function"==typeof l.get?l.get:null,c=a&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,y="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,d=Object.prototype.toString,h=Function.prototype.toString,b=String.prototype.match,v=String.prototype.slice,m=String.prototype.replace,x=String.prototype.toUpperCase,w=String.prototype.toLowerCase,A=RegExp.prototype.test,S=Array.prototype.concat,_=Array.prototype.join,P=Array.prototype.slice,O=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,F="function"==typeof Symbol&&"object"==typeof Symbol.iterator,j="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,E=Object.prototype.propertyIsEnumerable,M=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function L(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||A.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-O(-t):O(t);if(n!==t){var o=String(n),i=v.call(e,o.length+1);return m.call(o,r,"$&_")+"."+m.call(m.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return m.call(e,r,"$&_")}var B=r(42634),R=B.custom,z=G(R)?R:null,k={__proto__:null,double:'"',single:"'"},U={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function N(t,e,r){var n=r.quoteStyle||e,o=k[n];return o+t+o}function W(t){return m.call(String(t),/"/g,"&quot;")}function D(t){return!("[object Array]"!==K(t)||j&&"object"==typeof t&&j in t)}function $(t){return!("[object RegExp]"!==K(t)||j&&"object"==typeof t&&j in t)}function G(t){if(F)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!T)return!1;try{return T.call(t),!0}catch(t){}return!1}t.exports=function t(e,n,o,a){var l=n||{};if(V(l,"quoteStyle")&&!V(k,l.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var d=!V(l,"customInspect")||l.customInspect;if("boolean"!=typeof d&&"symbol"!==d)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var x=l.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return J(e,l);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var A=String(e);return x?L(e,A):A}if("bigint"==typeof e){var O=String(e)+"n";return x?L(e,O):O}var C=void 0===l.depth?5:l.depth;if(void 0===o&&(o=0),o>=C&&C>0&&"object"==typeof e)return D(e)?"[Array]":"[Object]";var R,U=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=_.call(Array(t.indent+1)," ")}return{base:r,prev:_.call(Array(e+1),r)}}(l,o);if(void 0===a)a=[];else if(q(a,e)>=0)return"[Circular]";function H(e,r,n){if(r&&(a=P.call(a)).push(r),n){var i={depth:l.depth};return V(l,"quoteStyle")&&(i.quoteStyle=l.quoteStyle),t(e,i,o+1,a)}return t(e,l,o+1,a)}if("function"==typeof e&&!$(e)){var Q=function(t){if(t.name)return t.name;var e=b.call(h.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),rt=et(e,H);return"[Function"+(Q?": "+Q:" (anonymous)")+"]"+(rt.length>0?" { "+_.call(rt,", ")+" }":"")}if(G(e)){var nt=F?m.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):T.call(e);return"object"!=typeof e||F?nt:X(nt)}if((R=e)&&"object"==typeof R&&("undefined"!=typeof HTMLElement&&R instanceof HTMLElement||"string"==typeof R.nodeName&&"function"==typeof R.getAttribute)){for(var ot="<"+w.call(String(e.nodeName)),it=e.attributes||[],st=0;st<it.length;st++)ot+=" "+it[st].name+"="+N(W(it[st].value),"double",l);return ot+=">",e.childNodes&&e.childNodes.length&&(ot+="..."),ot+"</"+w.call(String(e.nodeName))+">"}if(D(e)){if(0===e.length)return"[]";var at=et(e,H);return U&&!function(t){for(var e=0;e<t.length;e++)if(q(t[e],"\n")>=0)return!1;return!0}(at)?"["+tt(at,U)+"]":"[ "+_.call(at,", ")+" ]"}if(function(t){return!("[object Error]"!==K(t)||j&&"object"==typeof t&&j in t)}(e)){var lt=et(e,H);return"cause"in Error.prototype||!("cause"in e)||E.call(e,"cause")?0===lt.length?"["+String(e)+"]":"{ ["+String(e)+"] "+_.call(lt,", ")+" }":"{ ["+String(e)+"] "+_.call(S.call("[cause]: "+H(e.cause),lt),", ")+" }"}if("object"==typeof e&&d){if(z&&"function"==typeof e[z]&&B)return B(e,{depth:C-o});if("symbol"!==d&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{u.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var ut=[];return s&&s.call(e,(function(t,r){ut.push(H(r,e,!0)+" => "+H(t,e))})),Z("Map",i.call(e),ut,U)}if(function(t){if(!u||!t||"object"!=typeof t)return!1;try{u.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var ct=[];return c&&c.call(e,(function(t){ct.push(H(t,e))})),Z("Set",u.call(e),ct,U)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Y("WeakMap");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Y("WeakSet");if(function(t){if(!y||!t||"object"!=typeof t)return!1;try{return y.call(t),!0}catch(t){}return!1}(e))return Y("WeakRef");if(function(t){return!("[object Number]"!==K(t)||j&&"object"==typeof t&&j in t)}(e))return X(H(Number(e)));if(function(t){if(!t||"object"!=typeof t||!I)return!1;try{return I.call(t),!0}catch(t){}return!1}(e))return X(H(I.call(e)));if(function(t){return!("[object Boolean]"!==K(t)||j&&"object"==typeof t&&j in t)}(e))return X(g.call(e));if(function(t){return!("[object String]"!==K(t)||j&&"object"==typeof t&&j in t)}(e))return X(H(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&e===globalThis||void 0!==r.g&&e===r.g)return"{ [object globalThis] }";if(!function(t){return!("[object Date]"!==K(t)||j&&"object"==typeof t&&j in t)}(e)&&!$(e)){var ft=et(e,H),pt=M?M(e)===Object.prototype:e instanceof Object||e.constructor===Object,yt=e instanceof Object?"":"null prototype",gt=!pt&&j&&Object(e)===e&&j in e?v.call(K(e),8,-1):yt?"Object":"",dt=(pt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(gt||yt?"["+_.call(S.call([],gt||[],yt||[]),": ")+"] ":"");return 0===ft.length?dt+"{}":U?dt+"{"+tt(ft,U)+"}":dt+"{ "+_.call(ft,", ")+" }"}return String(e)};var H=Object.prototype.hasOwnProperty||function(t){return t in this};function V(t,e){return H.call(t,e)}function K(t){return d.call(t)}function q(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function J(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return J(v.call(t,0,e.maxStringLength),e)+n}var o=U[e.quoteStyle||"single"];return o.lastIndex=0,N(m.call(m.call(t,o,"\\$1"),/[\x00-\x1f]/g,Q),"single",e)}function Q(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+x.call(e.toString(16))}function X(t){return"Object("+t+")"}function Y(t){return t+" { ? }"}function Z(t,e,r,n){return t+" ("+e+") {"+(n?tt(r,n):_.call(r,", "))+"}"}function tt(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+_.call(t,","+r)+"\n"+e.prev}function et(t,e){var r=D(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=V(t,o)?e(t[o],t):""}var i,s="function"==typeof C?C(t):[];if(F){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=s[a]}for(var l in t)V(t,l)&&(r&&String(Number(l))===l&&l<t.length||F&&i["$"+l]instanceof Symbol||(A.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if("function"==typeof C)for(var u=0;u<s.length;u++)E.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}},58968:t=>{"use strict";t.exports=Math.floor},59719:(t,e,r)=>{"use strict";var n=r(69675),o=r(6188),i=r(68002);t.exports=function(t,e,r){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r||!(e<=r))throw new n("Assertion failed: all three arguments must be MVs, and `lower` must be `<= upper`");return i(o(e,t),r)}},60034:(t,e,r)=>{"use strict";var n=r(69600),o=r(9957),i=r(74462)(),s=r(36556),a=s("Function.prototype.toString"),l=s("String.prototype.match"),u=s("Object.prototype.toString"),c=/^class /,f=/\s*function\s+([^(\s]*)\s*/,p=!(0 in[,]),y=Function.prototype,g=function(){return!1};if("object"==typeof document){var d=document.all;u(d)===u(document.all)&&(g=function(t){if((p||!t)&&(void 0===t||"object"==typeof t))try{var e=u(t);return("[object HTMLAllCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=function(){if(g(this)||!function(t){if(n(t))return!1;if("function"!=typeof t)return!1;try{return!!l(a(t),c)}catch(t){}return!1}(this)&&!n(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(i&&o(this,"name"))return this.name;if(this===y)return"";var t=a(this),e=l(t,f);return e&&e[1]}},60259:(t,e,r)=>{"use strict";var n=r(9957),o=r(69675),i=r(6966),s=r(44323),a=r(92702);t.exports=function(t){if(!a(t))throw new o("ToPropertyDescriptor requires an object");var e={};if(n(t,"enumerable")&&(e["[[Enumerable]]"]=s(t.enumerable)),n(t,"configurable")&&(e["[[Configurable]]"]=s(t.configurable)),n(t,"value")&&(e["[[Value]]"]=t.value),n(t,"writable")&&(e["[[Writable]]"]=s(t.writable)),n(t,"get")){var r=t.get;if(void 0!==r&&!i(r))throw new o("getter must be a function");e["[[Get]]"]=r}if(n(t,"set")){var l=t.set;if(void 0!==l&&!i(l))throw new o("setter must be a function");e["[[Set]]"]=l}if((n(e,"[[Get]]")||n(e,"[[Set]]"))&&(n(e,"[[Value]]")||n(e,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return e}},60280:(t,e,r)=>{"use strict";var n=r(69675),o=r(58859),i=r(92702),s=r(13541);t.exports=function(t,e){if(!i(t))throw new n("Assertion failed: Type(O) is not Object");if(!s(e))throw new n("Assertion failed: P is not a Property Key, got "+o(e));return t[e]}},60593:(t,e,r)=>{"use strict";var n=r(83802),o=r(90256),i=r(87842),s=r(12648);t.exports=function(t){if(t&&"object"==typeof t){if(n(t))return"Map";if(o(t))return"Set";if(i(t))return"WeakMap";if(s(t))return"WeakSet"}return!1}},61376:(t,e,r)=>{"use strict";t.exports=r(70453)},62120:(t,e,r)=>{"use strict";var n=r(36556),o=n("Date.prototype.getDay"),i=n("Object.prototype.toString"),s=r(49092)();t.exports=function(t){return"object"==typeof t&&null!==t&&(s?function(t){try{return o(t),!0}catch(t){return!1}}(t):"[object Date]"===i(t))}},62792:(t,e,r)=>{"use strict";function n(t){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.reduce((function(t,e){return t.concat(n(e))}),[]),t;case"Feature":return t.geometry?n(t.geometry).map((function(e){var r={type:"Feature",properties:JSON.parse(JSON.stringify(t.properties)),geometry:e};return void 0!==t.id&&(r.id=t.id),r})):[t];case"MultiPoint":return t.coordinates.map((function(t){return{type:"Point",coordinates:t}}));case"MultiPolygon":return t.coordinates.map((function(t){return{type:"Polygon",coordinates:t}}));case"MultiLineString":return t.coordinates.map((function(t){return{type:"LineString",coordinates:t}}));case"GeometryCollection":return t.geometries.map(n).reduce((function(t,e){return t.concat(e)}),[]);case"Point":case"Polygon":case"LineString":return[t]}}r.r(e),r.d(e,{default:()=>n})},63331:(t,e,r)=>{"use strict";var n=r(94459);t.exports=function(t){return("number"==typeof t||"bigint"==typeof t)&&!n(t)&&t!==1/0&&t!==-1/0}},63384:(t,e,r)=>{"use strict";var n=r(55986),o=r(69675);t.exports=function(t){if("number"!=typeof t&&"bigint"!=typeof t)throw new o("argument must be a Number or a BigInt");var e=t<0?-n(-t):n(t);return 0===e?0:e}},63947:(t,e,r)=>{"use strict";r.d(e,{A:()=>xt});var n=r(84402),o=r(93559),i=r(75077),s=r(82101),a=r(23197),l=r(16704),u=r(18277),c=r(77117),f=r(83391);const p="uniform iconUniforms {\n  float sizeScale;\n  vec2 iconsTextureDim;\n  float sizeMinPixels;\n  float sizeMaxPixels;\n  bool billboard;\n  highp int sizeUnits;\n  float alphaCutoff;\n} icon;\n",y={name:"icon",vs:p,fs:p,uniformTypes:{sizeScale:"f32",iconsTextureDim:"vec2<f32>",sizeMinPixels:"f32",sizeMaxPixels:"f32",billboard:"f32",sizeUnits:"i32",alphaCutoff:"f32"}};var g=r(91952),d=r(81729);const h=()=>{},b={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},v={x:0,y:0,width:0,height:0};function m(t,e,r,n){const o=Math.min(r/e.width,n/e.height),i=Math.floor(e.width*o),s=Math.floor(e.height*o);return 1===o?{image:e,width:i,height:s}:(t.canvas.height=s,t.canvas.width=i,t.clearRect(0,0,i,s),t.drawImage(e,0,0,e.width,e.height,0,0,i,s),{image:t.canvas,width:i,height:s})}function x(t){return t&&(t.id||t.url)}function w(t,e,r){for(let n=0;n<e.length;n++){const{icon:o,xOffset:i}=e[n];t[x(o)]={...o,x:i,y:r}}}class A{constructor(t,{onUpdate:e=h,onError:r=h}){this._loadOptions=null,this._texture=null,this._externalTexture=null,this._mapping={},this._samplerParameters=null,this._pendingCount=0,this._autoPacking=!1,this._xOffset=0,this._yOffset=0,this._rowHeight=0,this._buffer=4,this._canvasWidth=1024,this._canvasHeight=0,this._canvas=null,this.device=t,this.onUpdate=e,this.onError=r}finalize(){this._texture?.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(t){const e=this._autoPacking?x(t):t;return this._mapping[e]||v}setProps({loadOptions:t,autoPacking:e,iconAtlas:r,iconMapping:n,textureParameters:o}){t&&(this._loadOptions=t),void 0!==e&&(this._autoPacking=e),n&&(this._mapping=n),r&&(this._texture?.delete(),this._texture=null,this._externalTexture=r),o&&(this._samplerParameters=o)}get isLoaded(){return 0===this._pendingCount}packIcons(t,e){if(!this._autoPacking||"undefined"==typeof document)return;const r=Object.values(function(t,e,r){if(!t||!e)return null;r=r||{};const n={},{iterable:o,objectInfo:i}=(0,d.X)(t);for(const t of o){i.index++;const o=e(t,i),s=x(o);if(!o)throw new Error("Icon is missing.");if(!o.url)throw new Error("Icon url is missing.");n[s]||r[s]&&o.url===r[s].url||(n[s]={...o,source:t,sourceIndex:i.index})}return n}(t,e,this._mapping)||{});if(r.length>0){const{mapping:t,xOffset:e,yOffset:n,rowHeight:o,canvasHeight:i}=function({icons:t,buffer:e,mapping:r={},xOffset:n=0,yOffset:o=0,rowHeight:i=0,canvasWidth:s}){let a=[];for(let l=0;l<t.length;l++){const u=t[l];if(!r[x(u)]){const{height:t,width:l}=u;n+l+e>s&&(w(r,a,o),n=0,o=i+o+e,i=0,a=[]),a.push({icon:u,xOffset:n}),n=n+l+e,i=Math.max(i,t)}}return a.length>0&&w(r,a,o),{mapping:r,rowHeight:i,xOffset:n,yOffset:o,canvasWidth:s,canvasHeight:(l=i+o+e,Math.pow(2,Math.ceil(Math.log2(l))))};var l}({icons:r,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=o,this._mapping=t,this._xOffset=e,this._yOffset=n,this._canvasHeight=i,this._texture||(this._texture=this.device.createTexture({format:"rgba8unorm",width:this._canvasWidth,height:this._canvasHeight,sampler:this._samplerParameters||b,mipmaps:!0})),this._texture.height!==this._canvasHeight&&(this._texture=function(t,e,r,n){const{width:o,height:i,device:s}=t,a=s.createTexture({format:"rgba8unorm",width:e,height:r,sampler:n,mipmaps:!0}),l=s.createCommandEncoder();return l.copyTextureToTexture({sourceTexture:t,destinationTexture:a,width:o,height:i}),l.finish(),t.destroy(),a}(this._texture,this._canvasWidth,this._canvasHeight,this._samplerParameters||b)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(r)}}_loadIcons(t){const e=this._canvas.getContext("2d",{willReadFrequently:!0});for(const r of t)this._pendingCount++,(0,g.H)(r.url,this._loadOptions).then((t=>{const n=x(r),o=this._mapping[n],{x:i,y:s,width:a,height:l}=o,{image:u,width:c,height:f}=m(e,t,a,l);this._texture?.copyExternalImage({image:u,x:i+(a-c)/2,y:s+(l-f)/2,width:c,height:f}),o.width=c,o.height=f,this._texture.generateMipmap(),this.onUpdate()})).catch((t=>{this.onError({url:r.url,source:r.source,sourceIndex:r.sourceIndex,loadOptions:this._loadOptions,error:t})})).finally((()=>{this._pendingCount--}))}}const S=[0,0,0,255],_={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:t=>t.position},getIcon:{type:"accessor",value:t=>t.icon},getColor:{type:"accessor",value:S},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0,value:null}};class P extends i.A{getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME icon-layer-vertex-shader\nin vec2 positions;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin float instanceSizes;\nin float instanceAngles;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin vec4 instanceIconFrames;\nin float instanceColorModes;\nin vec2 instanceOffsets;\nin vec2 instancePixelOffset;\nout float vColorMode;\nout vec4 vColor;\nout vec2 vTextureCoords;\nout vec2 uv;\nvec2 rotate_by_angle(vec2 vertex, float angle) {\nfloat angle_radian = angle * PI / 180.0;\nfloat cos_angle = cos(angle_radian);\nfloat sin_angle = sin(angle_radian);\nmat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\nreturn rotationMatrix * vertex;\n}\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\ngeometry.uv = positions;\ngeometry.pickingColor = instancePickingColors;\nuv = positions;\nvec2 iconSize = instanceIconFrames.zw;\nfloat sizePixels = clamp(\nproject_size_to_pixel(instanceSizes * icon.sizeScale, icon.sizeUnits),\nicon.sizeMinPixels, icon.sizeMaxPixels\n);\nfloat instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\nvec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\npixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\npixelOffset += instancePixelOffset;\npixelOffset.y *= -1.0;\nif (icon.billboard)  {\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nvec3 offset = vec3(pixelOffset, 0.0);\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n} else {\nvec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\nDECKGL_FILTER_SIZE(offset_common, geometry);\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n}\nvTextureCoords = mix(\ninstanceIconFrames.xy,\ninstanceIconFrames.xy + iconSize,\n(positions.xy + 1.0) / 2.0\n) / icon.iconsTextureDim;\nvColor = instanceColors;\nDECKGL_FILTER_COLOR(vColor, geometry);\nvColorMode = instanceColorModes;\n}\n",fs:"#version 300 es\n#define SHADER_NAME icon-layer-fragment-shader\nprecision highp float;\nuniform sampler2D iconsTexture;\nin float vColorMode;\nin vec4 vColor;\nin vec2 vTextureCoords;\nin vec2 uv;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = uv;\nvec4 texColor = texture(iconsTexture, vTextureCoords);\nvec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\nfloat a = texColor.a * layer.opacity * vColor.a;\nif (a < icon.alphaCutoff) {\ndiscard;\n}\nfragColor = vec4(color, a);\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[s.A,a.A,y]})}initializeState(){this.state={iconManager:new A(this.context.device,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:"uint8",accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:S},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(t){super.updateState(t);const{props:e,oldProps:r,changeFlags:n}=t,o=this.getAttributeManager(),{iconAtlas:i,iconMapping:s,data:a,getIcon:l,textureParameters:u}=e,{iconManager:c}=this.state;if("string"==typeof i)return;const f=i||this.internalState.isAsyncPropLoading("iconAtlas");c.setProps({loadOptions:e.loadOptions,autoPacking:!f,iconAtlas:i,iconMapping:f?s:null,textureParameters:u}),f?r.iconMapping!==e.iconMapping&&o.invalidate("getIcon"):(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getIcon))&&c.packIcons(a,l),n.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),o.invalidateAll())}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(t){super.finalizeState(t),this.state.iconManager.finalize()}draw({uniforms:t}){const{sizeScale:e,sizeMinPixels:r,sizeMaxPixels:n,sizeUnits:o,billboard:i,alphaCutoff:s}=this.props,{iconManager:a}=this.state,u=a.getTexture();if(u){const t=this.state.model,a={iconsTexture:u,iconsTextureDim:[u.width,u.height],sizeUnits:l.p5[o],sizeScale:e,sizeMinPixels:r,sizeMaxPixels:n,billboard:i,alphaCutoff:s};t.shaderInputs.setProps({icon:a}),t.draw(this.context.renderPass)}}_getModel(){return new c.K(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new f.V({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([-1,-1,1,-1,-1,1,1,1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(t){const e=this.getCurrentLayer()?.props.onIconError;e?e(t):u.A.error(t.error.message)()}getInstanceOffset(t){const{width:e,height:r,anchorX:n=e/2,anchorY:o=r/2}=this.state.iconManager.getIconMapping(t);return[e/2-n,r/2-o]}getInstanceColorMode(t){return this.state.iconManager.getIconMapping(t).mask?1:0}getInstanceIconFrame(t){const{x:e,y:r,width:n,height:o}=this.state.iconManager.getIconMapping(t);return[e,r,n,o]}}P.defaultProps=_,P.layerName="IconLayer";const O=P;var I=r(33549);const C="uniform sdfUniforms {\n  float gamma;\n  bool enabled;\n  float buffer;\n  float outlineBuffer;\n  vec4 outlineColor;\n} sdf;\n",T={name:"sdf",vs:C,fs:C,uniformTypes:{gamma:"f32",enabled:"f32",buffer:"f32",outlineBuffer:"f32",outlineColor:"vec4<f32>"}},F=.75,j=[];class E extends O{getShaders(){const t=super.getShaders();return{...t,modules:[...t.modules,T],fs:"#version 300 es\n#define SHADER_NAME multi-icon-layer-fragment-shader\nprecision highp float;\nuniform sampler2D iconsTexture;\nin vec4 vColor;\nin vec2 vTextureCoords;\nin vec2 uv;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = uv;\nif (!bool(picking.isActive)) {\nfloat alpha = texture(iconsTexture, vTextureCoords).a;\nvec4 color = vColor;\nif (sdf.enabled) {\nfloat distance = alpha;\nalpha = smoothstep(sdf.buffer - sdf.gamma, sdf.buffer + sdf.gamma, distance);\nif (sdf.outlineBuffer > 0.0) {\nfloat inFill = alpha;\nfloat inBorder = smoothstep(sdf.outlineBuffer - sdf.gamma, sdf.outlineBuffer + sdf.gamma, distance);\ncolor = mix(sdf.outlineColor, vColor, inFill);\nalpha = inBorder;\n}\n}\nfloat a = alpha * color.a;\nif (a < icon.alphaCutoff) {\ndiscard;\n}\nfragColor = vec4(color.rgb, a * layer.opacity);\n}\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n"}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:"uint8",size:3,accessor:(t,{index:e,target:r})=>this.encodePickingColor(e,r)}})}updateState(t){super.updateState(t);const{props:e,oldProps:r}=t;let{outlineColor:n}=e;n!==r.outlineColor&&(n=n.map((t=>t/255)),n[3]=Number.isFinite(n[3])?n[3]:1,this.setState({outlineColor:n})),!e.sdf&&e.outlineWidth&&u.A.warn(`${this.id}: fontSettings.sdf is required to render outline`)()}draw(t){const{sdf:e,smoothing:r,outlineWidth:n}=this.props,{outlineColor:o}=this.state,i=n?Math.max(r,F*(1-n)):-1,s=this.state.model,a={buffer:F,outlineBuffer:i,gamma:r,enabled:Boolean(e),outlineColor:o};if(s.shaderInputs.setProps({sdf:a}),super.draw(t),e&&n){const{iconManager:t}=this.state;t.getTexture()&&(s.shaderInputs.setProps({sdf:{...a,outlineBuffer:F}}),s.draw(this.context.renderPass))}}getInstanceOffset(t){return t?Array.from(t).flatMap((t=>super.getInstanceOffset(t))):j}getInstanceColorMode(t){return 1}getInstanceIconFrame(t){return t?Array.from(t).flatMap((t=>super.getInstanceIconFrame(t))):j}}E.defaultProps={getIconOffsets:{type:"accessor",value:t=>t.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}},E.layerName="MultiIconLayer";const M=E,L=1e20;class B{constructor({fontSize:t=24,buffer:e=3,radius:r=8,cutoff:n=.25,fontFamily:o="sans-serif",fontWeight:i="normal",fontStyle:s="normal"}={}){this.buffer=e,this.cutoff=n,this.radius=r;const a=this.size=t+4*e,l=this._createCanvas(a),u=this.ctx=l.getContext("2d",{willReadFrequently:!0});u.font=`${s} ${i} ${t}px ${o}`,u.textBaseline="alphabetic",u.textAlign="left",u.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Uint16Array(a)}_createCanvas(t){const e=document.createElement("canvas");return e.width=e.height=t,e}draw(t){const{width:e,actualBoundingBoxAscent:r,actualBoundingBoxDescent:n,actualBoundingBoxLeft:o,actualBoundingBoxRight:i}=this.ctx.measureText(t),s=Math.ceil(r),a=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(i-o))),l=Math.min(this.size-this.buffer,s+Math.ceil(n)),u=a+2*this.buffer,c=l+2*this.buffer,f=Math.max(u*c,0),p=new Uint8ClampedArray(f),y={data:p,width:u,height:c,glyphWidth:a,glyphHeight:l,glyphTop:s,glyphLeft:0,glyphAdvance:e};if(0===a||0===l)return y;const{ctx:g,buffer:d,gridInner:h,gridOuter:b}=this;g.clearRect(d,d,a,l),g.fillText(t,d,d+s);const v=g.getImageData(d,d,a,l);b.fill(L,0,f),h.fill(0,0,f);for(let t=0;t<l;t++)for(let e=0;e<a;e++){const r=v.data[4*(t*a+e)+3]/255;if(0===r)continue;const n=(t+d)*u+e+d;if(1===r)b[n]=0,h[n]=L;else{const t=.5-r;b[n]=t>0?t*t:0,h[n]=t<0?t*t:0}}R(b,0,0,u,c,u,this.f,this.v,this.z),R(h,d,d,a,l,u,this.f,this.v,this.z);for(let t=0;t<f;t++){const e=Math.sqrt(b[t])-Math.sqrt(h[t]);p[t]=Math.round(255-255*(e/this.radius+this.cutoff))}return y}}function R(t,e,r,n,o,i,s,a,l){for(let u=e;u<e+n;u++)z(t,r*i+u,i,o,s,a,l);for(let u=r;u<r+o;u++)z(t,u*i+e,1,n,s,a,l)}function z(t,e,r,n,o,i,s){i[0]=0,s[0]=-L,s[1]=L,o[0]=t[e];for(let a=1,l=0,u=0;a<n;a++){o[a]=t[e+a*r];const n=a*a;do{const t=i[l];u=(o[a]-o[t]+n-t*t)/(a-t)/2}while(u<=s[l]&&--l>-1);l++,i[l]=a,s[l]=u,s[l+1]=L}for(let a=0,l=0;a<n;a++){for(;s[l+1]<a;)l++;const n=i[l],u=a-n;t[e+a*r]=o[n]+u*u}}const k=[];function U(t,e,r,n){let o=0;for(let i=e;i<r;i++){const e=t[i];o+=n[e]?.layoutWidth||0}return o}function N(t,e,r,n,o,i){let s=e,a=0;for(let l=e;l<r;l++){const e=U(t,l,l+1,o);a+e>n&&(s<l&&i.push(l),s=l,a=0),a+=e}return a}function W(t,e,r,n,o=0,i){void 0===i&&(i=t.length);const s=[];return"break-all"===e?N(t,o,i,r,n,s):function(t,e,r,n,o,i){let s=e,a=e,l=e,u=0;for(let c=e;c<r;c++)if(" "===t[c]?l=c+1:" "!==t[c+1]&&c+1!==r||(l=c+1),l>a){let e=U(t,a,l,o);u+e>n&&(s<a&&(i.push(a),s=a,u=0),e>n&&(e=N(t,a,l,n,o,i),s=i[i.length-1])),a=l,u+=e}}(t,o,i,r,n,s),s}function D(t,e,r,n,o,i){let s=0,a=0;for(let i=e;i<r;i++){const e=t[i],r=n[e];r?(a||(a=r.layoutHeight),o[i]=s+r.layoutWidth/2,s+=r.layoutWidth):(u.A.warn(`Missing character: ${e} (${e.codePointAt(0)})`)(),o[i]=s,s+=32)}i[0]=s,i[1]=a}class ${constructor(t=5){this._cache={},this._order=[],this.limit=t}get(t){const e=this._cache[t];return e&&(this._deleteOrder(t),this._appendOrder(t)),e}set(t,e){this._cache[t]?(this.delete(t),this._cache[t]=e,this._appendOrder(t)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[t]=e,this._appendOrder(t))}delete(t){this._cache[t]&&(delete this._cache[t],this._deleteOrder(t))}_deleteOrder(t){const e=this._order.indexOf(t);e>=0&&this._order.splice(e,1)}_appendOrder(t){this._order.push(t)}}const G={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function(){const t=[];for(let e=32;e<128;e++)t.push(String.fromCharCode(e));return t}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let H=new $(3);function V(t,e){for(let r=0;r<t.length;r++)e.data[4*r+3]=t[r]}function K(t,e,r,n){t.font=`${n} ${r}px ${e}`,t.fillStyle="#000",t.textBaseline="alphabetic",t.textAlign="left"}class q{constructor(){this.props={...G}}get atlas(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){const{fontSize:t,buffer:e}=this.props;return(1.2*t+2*e)/t}setProps(t={}){Object.assign(this.props,t),this._key=this._getKey();const e=function(t,e){let r;r="string"==typeof e?new Set(Array.from(e)):new Set(e);const n=H.get(t);if(!n)return r;for(const t in n.mapping)r.has(t)&&r.delete(t);return r}(this._key,this.props.characterSet),r=H.get(this._key);if(r&&0===e.size)return void(this._atlas!==r&&(this._atlas=r));const n=this._generateFontAtlas(e,r);this._atlas=n,H.set(this._key,n)}_generateFontAtlas(t,e){const{fontFamily:r,fontWeight:n,fontSize:o,buffer:i,sdf:s,radius:a,cutoff:l}=this.props;let u=e&&e.data;u||(u=document.createElement("canvas"),u.width=1024);const c=u.getContext("2d",{willReadFrequently:!0});K(c,r,o,n);const{mapping:f,canvasHeight:p,xOffset:y,yOffset:g}=function({characterSet:t,getFontWidth:e,fontHeight:r,buffer:n,maxCanvasWidth:o,mapping:i={},xOffset:s=0,yOffset:a=0}){let l=0,u=s;const c=r+2*n;for(const s of t)if(!i[s]){const t=e(s);u+t+2*n>o&&(u=0,l++),i[s]={x:u+n,y:a+l*c+n,width:t,height:c,layoutWidth:t,layoutHeight:r},u+=t+2*n}return{mapping:i,xOffset:u,yOffset:a+l*c,canvasHeight:(f=a+(l+1)*c,Math.pow(2,Math.ceil(Math.log2(f))))};var f}({getFontWidth:t=>c.measureText(t).width,fontHeight:1.2*o,buffer:i,characterSet:t,maxCanvasWidth:1024,...e&&{mapping:e.mapping,xOffset:e.xOffset,yOffset:e.yOffset}});if(u.height!==p){const t=c.getImageData(0,0,u.width,u.height);u.height=p,c.putImageData(t,0,0)}if(K(c,r,o,n),s){const e=new B({fontSize:o,buffer:i,radius:a,cutoff:l,fontFamily:r,fontWeight:`${n}`});for(const r of t){const{data:t,width:n,height:i,glyphTop:s}=e.draw(r);f[r].width=n,f[r].layoutOffsetY=.9*o-s;const a=c.createImageData(n,i);V(t,a),c.putImageData(a,f[r].x,f[r].y)}}else for(const e of t)c.fillText(e,f[e].x,f[e].y+i+.9*o);return{xOffset:y,yOffset:g,mapping:f,data:u,width:u.width,height:u.height}}_getKey(){const{fontFamily:t,fontWeight:e,fontSize:r,buffer:n,sdf:o,radius:i,cutoff:s}=this.props;return o?`${t} ${e} ${r} ${n} ${i} ${s}`:`${t} ${e} ${r} ${n}`}}const J="uniform textBackgroundUniforms {\n  bool billboard;\n  float sizeScale;\n  float sizeMinPixels;\n  float sizeMaxPixels;\n  vec4 padding;\n  highp int sizeUnits;\n  bool stroked;\n} textBackground;\n",Q={name:"textBackground",vs:J,fs:J,uniformTypes:{billboard:"f32",sizeScale:"f32",sizeMinPixels:"f32",sizeMaxPixels:"f32",padding:"vec4<f32>",sizeUnits:"i32",stroked:"f32"}},X={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:t=>t.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class Y extends i.A{getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME text-background-layer-vertex-shader\nin vec2 positions;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceRects;\nin float instanceSizes;\nin float instanceAngles;\nin vec2 instancePixelOffsets;\nin float instanceLineWidths;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin vec3 instancePickingColors;\nout vec4 vFillColor;\nout vec4 vLineColor;\nout float vLineWidth;\nout vec2 uv;\nout vec2 dimensions;\nvec2 rotate_by_angle(vec2 vertex, float angle) {\nfloat angle_radian = radians(angle);\nfloat cos_angle = cos(angle_radian);\nfloat sin_angle = sin(angle_radian);\nmat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\nreturn rotationMatrix * vertex;\n}\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\ngeometry.uv = positions;\ngeometry.pickingColor = instancePickingColors;\nuv = positions;\nvLineWidth = instanceLineWidths;\nfloat sizePixels = clamp(\nproject_size_to_pixel(instanceSizes * textBackground.sizeScale, textBackground.sizeUnits),\ntextBackground.sizeMinPixels, textBackground.sizeMaxPixels\n);\ndimensions = instanceRects.zw * sizePixels + textBackground.padding.xy + textBackground.padding.zw;\nvec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-textBackground.padding.xy, textBackground.padding.zw, positions);\npixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\npixelOffset += instancePixelOffsets;\npixelOffset.y *= -1.0;\nif (textBackground.billboard)  {\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nvec3 offset = vec3(pixelOffset, 0.0);\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n} else {\nvec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\nDECKGL_FILTER_SIZE(offset_common, geometry);\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n}\nvFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);\nDECKGL_FILTER_COLOR(vFillColor, geometry);\nvLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);\nDECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME text-background-layer-fragment-shader\nprecision highp float;\nin vec4 vFillColor;\nin vec4 vLineColor;\nin float vLineWidth;\nin vec2 uv;\nin vec2 dimensions;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = uv;\nvec2 pixelPosition = uv * dimensions;\nif (textBackground.stroked) {\nfloat distToEdge = min(\nmin(pixelPosition.x, dimensions.x - pixelPosition.x),\nmin(pixelPosition.y, dimensions.y - pixelPosition.y)\n);\nfloat isBorder = smoothedge(distToEdge, vLineWidth);\nfragColor = mix(vFillColor, vLineColor, isBorder);\n} else {\nfragColor = vFillColor;\n}\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[s.A,a.A,Q]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(t){super.updateState(t);const{changeFlags:e}=t;e.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:t}){const{billboard:e,sizeScale:r,sizeUnits:n,sizeMinPixels:o,sizeMaxPixels:i,getLineWidth:s}=this.props;let{padding:a}=this.props;a.length<4&&(a=[a[0],a[1],a[0],a[1]]);const u=this.state.model,c={billboard:e,stroked:Boolean(s),padding:a,sizeUnits:l.p5[n],sizeScale:r,sizeMinPixels:o,sizeMaxPixels:i};u.shaderInputs.setProps({textBackground:c}),u.draw(this.context.renderPass)}_getModel(){return new c.K(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new f.V({topology:"triangle-strip",vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,0,1,1,1])}}}),isInstanced:!0})}}Y.defaultProps=X,Y.layerName="TextBackgroundLayer";const Z=Y,tt={start:1,middle:0,end:-1},et={top:1,center:0,bottom:-1},rt=[0,0,0,255],nt={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:rt},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:G.characterSet},fontFamily:G.fontFamily,fontWeight:G.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:rt},fontSettings:{type:"object",value:{},compare:1},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:t=>t.text},getPosition:{type:"accessor",value:t=>t.position},getColor:{type:"accessor",value:rt},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class ot extends n.A{constructor(){super(...arguments),this.getBoundingRect=(t,e)=>{let{size:[r,n]}=this.transformParagraph(t,e);const{fontSize:o}=this.state.fontAtlasManager.props;r/=o,n/=o;const{getTextAnchor:i,getAlignmentBaseline:s}=this.props;return[(tt["function"==typeof i?i(t,e):i]-1)*r/2,(et["function"==typeof s?s(t,e):s]-1)*n/2,r,n]},this.getIconOffsets=(t,e)=>{const{getTextAnchor:r,getAlignmentBaseline:n}=this.props,{x:o,y:i,rowWidth:s,size:[a,l]}=this.transformParagraph(t,e),u=tt["function"==typeof r?r(t,e):r],c=et["function"==typeof n?n(t,e):n],f=o.length,p=new Array(2*f);let y=0;for(let t=0;t<f;t++){const e=(1-u)*(a-s[t])/2;p[y++]=(u-1)*a/2+e+o[t],p[y++]=(c-1)*l/2+i[t]}return p}}initializeState(){this.state={styleVersion:0,fontAtlasManager:new q},this.props.maxWidth>0&&u.A.warn("v8.9 breaking change: TextLayer maxWidth is now relative to text size")()}updateState(t){const{props:e,oldProps:r,changeFlags:n}=t;(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||e.lineHeight!==r.lineHeight||e.wordBreak!==r.wordBreak||e.maxWidth!==r.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:t}){return t.object=t.index>=0?this.props.data[t.index]:null,t}_updateFontAtlas(){const{fontSettings:t,fontFamily:e,fontWeight:r}=this.props,{fontAtlasManager:n,characterSet:o}=this.state,i={...t,characterSet:o,fontFamily:e,fontWeight:r};if(!n.mapping)return n.setProps(i),!0;for(const t in i)if(i[t]!==n.props[t])return n.setProps(i),!0;return!1}_updateText(){const{data:t,characterSet:e}=this.props,r=t.attributes?.getText;let n,{getText:o}=this.props,i=t.startIndices;const s="auto"===e&&new Set;if(r&&i){const{texts:e,characterCount:a}=function({value:t,length:e,stride:r,offset:n,startIndices:o,characterSet:i}){const s=t.BYTES_PER_ELEMENT,a=r?r/s:1,l=n?n/s:0,u=o[e]||Math.ceil((t.length-l)/a),c=i&&new Set,f=new Array(e);let p=t;if(a>1||l>0){p=new(0,t.constructor)(u);for(let e=0;e<u;e++)p[e]=t[e*a+l]}for(let t=0;t<e;t++){const e=o[t],r=o[t+1]||u,n=p.subarray(e,r);f[t]=String.fromCodePoint.apply(null,n),c&&n.forEach(c.add,c)}if(c)for(const t of c)i.add(String.fromCodePoint(t));return{texts:f,characterCount:u}}({...ArrayBuffer.isView(r)?{value:r}:r,length:t.length,startIndices:i,characterSet:s});n=a,o=(t,{index:r})=>e[r]}else{const{iterable:e,objectInfo:r}=(0,d.X)(t);i=[0],n=0;for(const t of e){r.index++;const e=Array.from(o(t,r)||"");s&&e.forEach(s.add,s),n+=e.length,i.push(n)}}this.setState({getText:o,startIndices:i,numInstances:n,characterSet:s||e})}transformParagraph(t,e){const{fontAtlasManager:r}=this.state,n=r.mapping,o=this.state.getText,{wordBreak:i,lineHeight:s,maxWidth:a}=this.props;return function(t,e,r,n,o){const i=Array.from(t),s=i.length,a=new Array(s),l=new Array(s),u=new Array(s),c=("break-word"===r||"break-all"===r)&&isFinite(n)&&n>0,f=[0,0],p=[0,0];let y=0,g=0,d=0;for(let t=0;t<=s;t++){const h=i[t];if("\n"!==h&&t!==s||(d=t),d>g){const t=c?W(i,r,n,o,g,d):k;for(let r=0;r<=t.length;r++){const n=0===r?g:t[r-1],s=r<t.length?t[r]:d;D(i,n,s,o,a,p);for(let t=n;t<s;t++){const e=i[t],r=o[e]?.layoutOffsetY||0;l[t]=y+p[1]/2+r,u[t]=p[0]}y+=p[1]*e,f[0]=Math.max(f[0],p[0])}g=d}"\n"===h&&(a[g]=0,l[g]=0,u[g]=0,g++)}return f[1]=y,{x:a,y:l,rowWidth:u,size:f}}(o(t,e)||"",s,i,a*r.props.fontSize,n)}renderLayers(){const{startIndices:t,numInstances:e,getText:r,fontAtlasManager:{scale:n,atlas:o,mapping:i},styleVersion:s}=this.state,{data:a,_dataDiff:l,getPosition:u,getColor:c,getSize:f,getAngle:p,getPixelOffset:y,getBackgroundColor:g,getBorderColor:d,getBorderWidth:h,backgroundPadding:b,background:v,billboard:m,fontSettings:x,outlineWidth:w,outlineColor:A,sizeScale:S,sizeUnits:_,sizeMinPixels:P,sizeMaxPixels:O,transitions:I,updateTriggers:C}=this.props,T=this.getSubLayerClass("characters",M),F=this.getSubLayerClass("background",Z);return[v&&new F({getFillColor:g,getLineColor:d,getLineWidth:h,padding:b,getPosition:u,getSize:f,getAngle:p,getPixelOffset:y,billboard:m,sizeScale:S,sizeUnits:_,sizeMinPixels:P,sizeMaxPixels:O,transitions:I&&{getPosition:I.getPosition,getAngle:I.getAngle,getSize:I.getSize,getFillColor:I.getBackgroundColor,getLineColor:I.getBorderColor,getLineWidth:I.getBorderWidth,getPixelOffset:I.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:C.getPosition,getAngle:C.getAngle,getSize:C.getSize,getFillColor:C.getBackgroundColor,getLineColor:C.getBorderColor,getLineWidth:C.getBorderWidth,getPixelOffset:C.getPixelOffset,getBoundingRect:{getText:C.getText,getTextAnchor:C.getTextAnchor,getAlignmentBaseline:C.getAlignmentBaseline,styleVersion:s}}}),{data:a.attributes&&a.attributes.background?{length:a.length,attributes:a.attributes.background}:a,_dataDiff:l,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new T({sdf:x.sdf,smoothing:Number.isFinite(x.smoothing)?x.smoothing:G.smoothing,outlineWidth:w/(x.radius||G.radius),outlineColor:A,iconAtlas:o,iconMapping:i,getPosition:u,getColor:c,getSize:f,getAngle:p,getPixelOffset:y,billboard:m,sizeScale:S*n,sizeUnits:_,sizeMinPixels:P*n,sizeMaxPixels:O*n,transitions:I&&{getPosition:I.getPosition,getAngle:I.getAngle,getColor:I.getColor,getSize:I.getSize,getPixelOffset:I.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{all:C.getText,getPosition:C.getPosition,getAngle:C.getAngle,getColor:C.getColor,getSize:C.getSize,getPixelOffset:C.getPixelOffset,getIconOffsets:{getTextAnchor:C.getTextAnchor,getAlignmentBaseline:C.getAlignmentBaseline,styleVersion:s}}}),{data:a,_dataDiff:l,startIndices:t,numInstances:e,getIconOffsets:this.getIconOffsets,getIcon:r})]}static set fontAtlasCacheLimit(t){!function(t){u.A.assert(Number.isFinite(t)&&t>=3,"Invalid cache limit"),H=new $(t)}(t)}}ot.defaultProps=nt,ot.layerName="TextLayer";const it=ot;var st=r(91018),at=r(82077);const lt={circle:{type:I.A,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:O,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:it,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},ut={type:st.A,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},ct={type:at.A,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function ft({type:t,props:e}){const r={};for(const n in e)r[n]=t.defaultProps[e[n]];return r}function pt(t,e){const{transitions:r,updateTriggers:n}=t.props,o={updateTriggers:{},transitions:r&&{getPosition:r.geometry}};for(const i in e){const s=e[i];let a=t.props[i];i.startsWith("get")&&(a=t.getSubLayerAccessor(a),o.updateTriggers[s]=n[i],r&&(o.transitions[s]=r[i])),o[s]=a}return o}function yt(t,e,r={}){const n={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:o=0,endRow:i=t.length}=r;for(let r=o;r<i;r++){const o=t[r],{geometry:i}=o;if(i)if("GeometryCollection"===i.type){u.A.assert(Array.isArray(i.geometries),"GeoJSON does not have geometries array");const{geometries:t}=i;for(let i=0;i<t.length;i++)gt(t[i],n,e,o,r)}else gt(i,n,e,o,r)}return n}function gt(t,e,r,n,o){const{type:i,coordinates:s}=t,{pointFeatures:a,lineFeatures:l,polygonFeatures:c,polygonOutlineFeatures:f}=e;if(function(t,e){let r=dt[t];for(u.A.assert(r,`Unknown GeoJSON type ${t}`);e&&--r>0;)e=e[0];return e&&Number.isFinite(e[0])}(i,s))switch(i){case"Point":a.push(r({geometry:t},n,o));break;case"MultiPoint":s.forEach((t=>{a.push(r({geometry:{type:"Point",coordinates:t}},n,o))}));break;case"LineString":l.push(r({geometry:t},n,o));break;case"MultiLineString":s.forEach((t=>{l.push(r({geometry:{type:"LineString",coordinates:t}},n,o))}));break;case"Polygon":c.push(r({geometry:t},n,o)),s.forEach((t=>{f.push(r({geometry:{type:"LineString",coordinates:t}},n,o))}));break;case"MultiPolygon":s.forEach((t=>{c.push(r({geometry:{type:"Polygon",coordinates:t}},n,o)),t.forEach((t=>{f.push(r({geometry:{type:"LineString",coordinates:t}},n,o))}))}))}else u.A.warn(`${i} coordinates are malformed`)()}const dt={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function ht(t){return t.geometry.coordinates}const bt=["points","linestrings","polygons"],vt={...ft(lt.circle),...ft(lt.icon),...ft(lt.text),...ft(ut),...ft(ct),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:t=>t.properties.icon},getText:{type:"accessor",value:t=>t.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class mt extends n.A{initializeState(){this.state={layerProps:{},features:{},featuresDiff:{}}}updateState({props:t,changeFlags:e}){if(!e.dataChanged)return;const{data:r}=this.props,n=r&&"points"in r&&"polygons"in r&&"lines"in r;this.setState({binary:n}),n?this._updateStateBinary({props:t,changeFlags:e}):this._updateStateJSON({props:t,changeFlags:e})}_updateStateBinary({props:t,changeFlags:e}){const r=function(t,e){const r={points:{},lines:{},polygons:{},polygonsOutline:{}},{points:n,lines:o,polygons:i}=t,s=function(t,e){const r={points:null,lines:null,polygons:null};for(const n in r){const o=t[n].globalFeatureIds.value;r[n]=new Uint8ClampedArray(4*o.length);const i=[];for(let t=0;t<o.length;t++)e(o[t],i),r[n][4*t+0]=i[0],r[n][4*t+1]=i[1],r[n][4*t+2]=i[2],r[n][4*t+3]=255}return r}(t,e);return r.points.data={length:n.positions.value.length/n.positions.size,attributes:{...n.attributes,getPosition:n.positions,instancePickingColors:{size:4,value:s.points}},properties:n.properties,numericProps:n.numericProps,featureIds:n.featureIds},r.lines.data={length:o.pathIndices.value.length-1,startIndices:o.pathIndices.value,attributes:{...o.attributes,getPath:o.positions,instancePickingColors:{size:4,value:s.lines}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},r.lines._pathType="open",r.polygons.data={length:i.polygonIndices.value.length-1,startIndices:i.polygonIndices.value,attributes:{...i.attributes,getPolygon:i.positions,pickingColors:{size:4,value:s.polygons}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},r.polygons._normalize=!1,i.triangles&&(r.polygons.data.attributes.indices=i.triangles.value),r.polygonsOutline.data={length:i.primitivePolygonIndices.value.length-1,startIndices:i.primitivePolygonIndices.value,attributes:{...i.attributes,getPath:i.positions,instancePickingColors:{size:4,value:s.polygons}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},r.polygonsOutline._pathType="open",r}(t.data,this.encodePickingColor);this.setState({layerProps:r})}_updateStateJSON({props:t,changeFlags:e}){const r=function(t){if(Array.isArray(t))return t;switch(u.A.assert(t.type,"GeoJSON does not have type"),t.type){case"Feature":return[t];case"FeatureCollection":return u.A.assert(Array.isArray(t.features),"GeoJSON does not have features array"),t.features;default:return[{geometry:t}]}}(t.data),n=this.getSubLayerRow.bind(this);let i={};const s={};if(Array.isArray(e.dataChanged)){const t=this.state.features;for(const e in t)i[e]=t[e].slice(),s[e]=[];for(const a of e.dataChanged){const e=yt(r,n,a);for(const r in t)s[r].push((0,o.J)({data:i[r],getIndex:t=>t.__source.index,dataRange:a,replace:e[r]}))}}else i=yt(r,n);const a=function(t,e){const r={points:{},lines:{},polygons:{},polygonsOutline:{}},{pointFeatures:n,lineFeatures:o,polygonFeatures:i,polygonOutlineFeatures:s}=t;return r.points.data=n,r.points._dataDiff=e.pointFeatures&&(()=>e.pointFeatures),r.points.getPosition=ht,r.lines.data=o,r.lines._dataDiff=e.lineFeatures&&(()=>e.lineFeatures),r.lines.getPath=ht,r.polygons.data=i,r.polygons._dataDiff=e.polygonFeatures&&(()=>e.polygonFeatures),r.polygons.getPolygon=ht,r.polygonsOutline.data=s,r.polygonsOutline._dataDiff=e.polygonOutlineFeatures&&(()=>e.polygonOutlineFeatures),r.polygonsOutline.getPath=ht,r}(i,s);this.setState({features:i,featuresDiff:s,layerProps:a})}getPickingInfo(t){const e=super.getPickingInfo(t),{index:r,sourceLayer:n}=e;return e.featureType=bt.find((t=>n.id.startsWith(`${this.id}-${t}-`))),r>=0&&n.id.startsWith(`${this.id}-points-text`)&&this.state.binary&&(e.index=this.props.data.points.globalFeatureIds.value[r]),e}_updateAutoHighlight(t){const e=`${this.id}-points-`,r="points"===t.featureType;for(const n of this.getSubLayers())n.id.startsWith(e)===r&&n.updateAutoHighlight(t)}_renderPolygonLayer(){const{extruded:t,wireframe:e}=this.props,{layerProps:r}=this.state,n="polygons-fill",o=this.shouldRenderSubLayer(n,r.polygons?.data)&&this.getSubLayerClass(n,ct.type);if(o){const i=pt(this,ct.props),s=t&&e;return s||delete i.getLineColor,i.updateTriggers.lineColors=s,new o(i,this.getSubLayerProps({id:n,updateTriggers:i.updateTriggers}),r.polygons)}return null}_renderLineLayers(){const{extruded:t,stroked:e}=this.props,{layerProps:r}=this.state,n="polygons-stroke",o="linestrings",i=!t&&e&&this.shouldRenderSubLayer(n,r.polygonsOutline?.data)&&this.getSubLayerClass(n,ut.type),s=this.shouldRenderSubLayer(o,r.lines?.data)&&this.getSubLayerClass(o,ut.type);if(i||s){const t=pt(this,ut.props);return[i&&new i(t,this.getSubLayerProps({id:n,updateTriggers:t.updateTriggers}),r.polygonsOutline),s&&new s(t,this.getSubLayerProps({id:o,updateTriggers:t.updateTriggers}),r.lines)]}return null}_renderPointLayers(){const{pointType:t}=this.props,{layerProps:e,binary:r}=this.state;let{highlightedObjectIndex:n}=this.props;!r&&Number.isFinite(n)&&(n=e.points.data.findIndex((t=>t.__source.index===n)));const o=new Set(t.split("+")),i=[];for(const t of o){const o=`points-${t}`,s=lt[t],a=s&&this.shouldRenderSubLayer(o,e.points?.data)&&this.getSubLayerClass(o,s.type);if(a){const l=pt(this,s.props);let u=e.points;if("text"===t&&r){const{instancePickingColors:t,...e}=u.data.attributes;u={...u,data:{...u.data,attributes:e}}}i.push(new a(l,this.getSubLayerProps({id:o,updateTriggers:l.updateTriggers,highlightedObjectIndex:n}),u))}}return i}renderLayers(){const{extruded:t}=this.props,e=this._renderPolygonLayer();return[!t&&e,this._renderLineLayers(),this._renderPointLayers(),t&&e]}getSubLayerAccessor(t){const{binary:e}=this.state;return e&&"function"==typeof t?(e,r)=>{const{data:n,index:o}=r,i=function(t,e){if(!t)return null;const r="startIndices"in t?t.startIndices[e]:e,n=t.featureIds.value[r];return-1!==r?function(t,e,r){const n={properties:{...t.properties[e]}};for(const e in t.numericProps)n.properties[e]=t.numericProps[e].value[r];return n}(t,n,r):null}(n,o);return t(i,r)}:super.getSubLayerAccessor(t)}}mt.layerName="GeoJsonLayer",mt.defaultProps=vt;const xt=mt},64039:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(41333);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},64097:t=>{"use strict";t.exports={__proto__:null,name:{__proto__:null,$Int8Array:"INT8",$Uint8Array:"UINT8",$Uint8ClampedArray:"UINT8C",$Int16Array:"INT16",$Uint16Array:"UINT16",$Int32Array:"INT32",$Uint32Array:"UINT32",$BigInt64Array:"BIGINT64",$BigUint64Array:"BIGUINT64",$Float32Array:"FLOAT32",$Float64Array:"FLOAT64"},size:{__proto__:null,$INT8:1,$UINT8:1,$UINT8C:1,$INT16:2,$UINT16:2,$INT32:4,$UINT32:4,$BIGINT64:8,$BIGUINT64:8,$FLOAT32:4,$FLOAT64:8}}},64399:(t,e,r)=>{"use strict";var n=r(70453)("%Array.prototype.concat%"),o=r(10487),i=r(36556)("Array.prototype.slice"),s=r(41333)()&&Symbol.isConcatSpreadable,a=[],l=s?o.apply(n,a):null,u=s?r(64634):null;t.exports=s?function(t){for(var e=0;e<arguments.length;e+=1){var r=arguments[e];if(r&&"object"==typeof r&&"boolean"==typeof r[s]){a[s]||(a[s]=!0);var n=u(r)?i(r):[r];n[s]=!0,arguments[e]=n}}return l(arguments)}:o(n,a)},64634:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},65015:(t,e,r)=>{"use strict";var n=r(69675),o=r(42491),i=r(83446),s=r(19887),a=r(13557),l=r(82475),u=r(87088),c=r(70172),f=r(34770),p=r(36039),y=r(99308),g=r(32779),d=r(28894),h=r(24751),b=r(1189),v={__proto__:null,INT8:1,UINT8:1,UINT8C:1,INT16:2,UINT16:2,INT32:4,UINT32:4,BIGINT64:8,BIGUINT64:8,FLOAT32:4,FLOAT64:8},m={__proto__:null,INT8:u,UINT8:p,UINT8C:y,INT16:a,UINT16:c,INT32:l,UINT32:f,BIGINT64:i,BIGUINT64:s};t.exports=function(t,e,r){if("string"!=typeof t||!o(v,t))throw new n("Assertion failed: `type` must be a TypedArray element type: "+b(v));if("number"!=typeof e&&"bigint"!=typeof e)throw new n("Assertion failed: `value` must be a Number or a BigInt");if("boolean"!=typeof r)throw new n("Assertion failed: `isLittleEndian` must be a Boolean");if("FLOAT32"===t)return g(e,r);if("FLOAT64"===t)return d(e,r);var i=v[t],s=(0,m[t])(e);return h(s,i,r)}},65233:t=>{function e(t){if(!(this instanceof e))return new e(t);this._bbox=t||[1/0,1/0,-1/0,-1/0],this._valid=!!t}t.exports=e,e.prototype.include=function(t){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[0]),this._bbox[3]=Math.max(this._bbox[3],t[1]),this},e.prototype.equals=function(t){var r;return r=t instanceof e?t.bbox():t,this._bbox[0]==r[0]&&this._bbox[1]==r[1]&&this._bbox[2]==r[2]&&this._bbox[3]==r[3]},e.prototype.center=function(t){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},e.prototype.union=function(t){var r;return this._valid=!0,r=t instanceof e?t.bbox():t,this._bbox[0]=Math.min(this._bbox[0],r[0]),this._bbox[1]=Math.min(this._bbox[1],r[1]),this._bbox[2]=Math.max(this._bbox[2],r[2]),this._bbox[3]=Math.max(this._bbox[3],r[3]),this},e.prototype.bbox=function(){return this._valid?this._bbox:null},e.prototype.contains=function(t){if(!t)return this._fastContains();if(!this._valid)return null;var e=t[0],r=t[1];return this._bbox[0]<=e&&this._bbox[1]<=r&&this._bbox[2]>=e&&this._bbox[3]>=r},e.prototype.intersect=function(t){return this._valid?(r=t instanceof e?t.bbox():t,!(this._bbox[0]>r[2]||this._bbox[2]<r[0]||this._bbox[3]<r[1]||this._bbox[1]>r[3])):null;var r},e.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var t="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",t)},e.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},66058:(t,e,r)=>{"use strict";var n=r(10487),o=r(82682),i=r(75795),s=r(35680),a=r(76578),l=r(99897)(),u={__proto__:null},c=Object.defineProperty;if(i){var f=function(t){return t.length};o(a,(function(t){var e=r.g[t];if("function"==typeof e||"object"==typeof e){var o=e.prototype,s=i(o,"length");if(!s){var a=l(o);s=i(a,"length")}if(s&&s.get)u["$"+t]=n(s.get);else if(c){var p=new r.g[t](2);(s=i(p,"length"))&&s.configurable&&c(p,"length",{value:3}),2===p.length&&(u["$"+t]=f)}}}))}t.exports=function(t){return!!s(t)&&function(t){var e;return o(u,(function(r){if("number"!=typeof e)try{var n=r(t);"number"==typeof n&&(e=n)}catch(t){}})),e}(t)}},66743:(t,e,r)=>{"use strict";var n=r(89353);t.exports=Function.prototype.bind||n},68002:t=>{"use strict";t.exports=Math.min},68013:(t,e,r)=>{"use strict";var n=r(38452).supportsDescriptors,o=r(74462)(),i=r(92747),s=Object.defineProperty,a=TypeError;t.exports=function(){var t=i();if(o)return t;if(!n)throw new a("Shimming Function.prototype.name support requires ES5 property descriptor support.");var e=Function.prototype;return s(e,"name",{configurable:!0,enumerable:!1,get:function(){var r=t.call(this);return this!==e&&s(this,"name",{configurable:!0,enumerable:!1,value:r,writable:!1}),r}}),t}},68206:(t,e,r)=>{"use strict";var n=r(5388),o=r(24810),i=r(36556)("String.prototype.replace"),s=/^\s$/.test("᠎"),a=s?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,l=s?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=o(n(this));return i(i(t,a,""),l,"")}},68213:(t,e,r)=>{"use strict";var n=r(58968);t.exports=function(t){for(var e,r="";t>0;)r=(e=t/2)===(t=n(e))?"0"+r:"1"+r;return r}},69346:(t,e,r)=>{"use strict";var n=r(9957),o=r(35680),i=r(11087);t.exports=function(t){return!!t&&"object"==typeof t&&n(t,"[[Object]]")&&n(t,"[[CachedBufferByteLength]]")&&(i(t["[[CachedBufferByteLength]]"])&&t["[[CachedBufferByteLength]]"]>=0||"DETACHED"===t["[[CachedBufferByteLength]]"])&&o(t["[[Object]]"])}},69383:t=>{"use strict";t.exports=Error},69600:t=>{"use strict";var e,r,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,e)}catch(t){t!==r&&(o=null)}else o=null;var i=/^\s*class\b/,s=function(t){try{var e=n.call(t);return i.test(e)}catch(t){return!1}},a=function(t){try{return!s(t)&&(n.call(t),!0)}catch(t){return!1}},l=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,c=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var p=document.all;l.call(p)===l.call(document.all)&&(f=function(t){if((c||!t)&&(void 0===t||"object"==typeof t))try{var e=l.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=o?function(t){if(f(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{o(t,null,e)}catch(t){if(t!==r)return!1}return!s(t)&&a(t)}:function(t){if(f(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(u)return a(t);if(s(t))return!1;var e=l.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&a(t)}},69675:t=>{"use strict";t.exports=TypeError},70172:(t,e,r)=>{"use strict";var n=r(54224),o=r(8410),i=r(63384),s=r(63331);t.exports=function(t){var e=o(t);if(!s(e)||0===e)return 0;var r=i(e),a=n(r,65536);return 0===a?0:a}},70414:t=>{"use strict";t.exports=Math.round},70453:(t,e,r)=>{"use strict";var n,o=r(79612),i=r(69383),s=r(41237),a=r(79290),l=r(79538),u=r(58068),c=r(69675),f=r(35345),p=r(71514),y=r(58968),g=r(6188),d=r(68002),h=r(75880),b=r(70414),v=r(73093),m=Function,x=function(t){try{return m('"use strict"; return ('+t+").constructor;")()}catch(t){}},w=r(75795),A=r(30655),S=function(){throw new c},_=w?function(){try{return S}catch(t){try{return w(arguments,"callee").get}catch(t){return S}}}():S,P=r(64039)(),O=r(93628),I=r(71064),C=r(48648),T=r(11002),F=r(10076),j={},E="undefined"!=typeof Uint8Array&&O?O(Uint8Array):n,M={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":P&&O?O([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":s,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":j,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":P&&O?O(O([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&P&&O?O((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":o,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&P&&O?O((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":P&&O?O(""[Symbol.iterator]()):n,"%Symbol%":P?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":_,"%TypedArray%":E,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":T,"%Object.defineProperty%":A,"%Object.getPrototypeOf%":I,"%Math.abs%":p,"%Math.floor%":y,"%Math.max%":g,"%Math.min%":d,"%Math.pow%":h,"%Math.round%":b,"%Math.sign%":v,"%Reflect.getPrototypeOf%":C};if(O)try{null.error}catch(t){var L=O(O(t));M["%Error.prototype%"]=L}var B=function t(e){var r;if("%AsyncFunction%"===e)r=x("async function () {}");else if("%GeneratorFunction%"===e)r=x("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=x("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&O&&(r=O(o.prototype))}return M[e]=r,r},R={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=r(66743),k=r(9957),U=z.call(F,Array.prototype.concat),N=z.call(T,Array.prototype.splice),W=z.call(F,String.prototype.replace),D=z.call(F,String.prototype.slice),$=z.call(F,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,V=function(t,e){var r,n=t;if(k(R,n)&&(n="%"+(r=R[n])[0]+"%"),k(M,n)){var o=M[n];if(o===j&&(o=B(n)),void 0===o&&!e)throw new c("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new u("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new c('"allowMissing" argument must be a boolean');if(null===$(/^%?[^%]*%?$/,t))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=D(t,0,1),r=D(t,-1);if("%"===e&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return W(t,G,(function(t,e,r,o){n[n.length]=r?W(o,H,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=V("%"+n+"%",e),i=o.name,s=o.value,a=!1,l=o.alias;l&&(n=l[0],N(r,U([0,1],l)));for(var f=1,p=!0;f<r.length;f+=1){var y=r[f],g=D(y,0,1),d=D(y,-1);if(('"'===g||"'"===g||"`"===g||'"'===d||"'"===d||"`"===d)&&g!==d)throw new u("property names with quotes must have matching quotes");if("constructor"!==y&&p||(a=!0),k(M,i="%"+(n+="."+y)+"%"))s=M[i];else if(null!=s){if(!(y in s)){if(!e)throw new c("base intrinsic for "+t+" exists, but the property is not available.");return}if(w&&f+1>=r.length){var h=w(s,y);s=(p=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:s[y]}else p=k(s,y),s=s[y];p&&!a&&(M[i]=s)}}return s}},71064:(t,e,r)=>{"use strict";var n=r(79612);t.exports=n.getPrototypeOf||null},71514:t=>{"use strict";t.exports=Math.abs},72308:(t,e,r)=>{"use strict";var n=r(82682),o=r(10487),i=r(99897)(),s=r(39209)(),a={__proto__:null},l=r(75795),u=Object.defineProperty;if(l){var c=function(t){return t.byteOffset};n(s,(function(t){if("function"==typeof r.g[t]||"object"==typeof r.g[t]){var e=r.g[t].prototype,n=l(e,"byteOffset");if(!n){var s=i(e);n=l(s,"byteOffset")}if(n&&n.get)a[t]=o(n.get);else if(u){var f=new r.g[t](2);(n=l(f,"byteOffset"))&&n.configurable&&u(f,"length",{value:3}),2===f.length&&(a[t]=c)}}}))}var f=r(35680);t.exports=function(t){return!!f(t)&&function(t){var e;return n(a,(function(r){if("number"!=typeof e)try{var n=r(t);"number"==typeof n&&(e=n)}catch(t){}})),e}(t)}},73093:(t,e,r)=>{"use strict";var n=r(94459);t.exports=function(t){return n(t)||0===t?t:t<0?-1:1}},73126:(t,e,r)=>{"use strict";var n=r(66743),o=r(69675),i=r(10076),s=r(13144);t.exports=function(t){if(t.length<1||"function"!=typeof t[0])throw new o("a function is required");return s(n,i,t)}},74372:(t,e,r)=>{"use strict";var n=r(69675),o=r(36556)("TypedArray.prototype.buffer",!0),i=r(35680);t.exports=o||function(t){if(!i(t))throw new n("Not a Typed Array");return t.buffer}},74462:t=>{"use strict";var e=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(t){r=null}e.functionsHaveConfigurableNames=function(){if(!e()||!r)return!1;var t=r((function(){}),"name");return!!t&&!!t.configurable};var n=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof n&&""!==function(){}.bind().name},t.exports=e},74895:(t,e,r)=>{"use strict";var n=r(68206);t.exports=function(){return String.prototype.trim&&"​"==="​".trim()&&"᠎"==="᠎".trim()&&"_᠎"==="_᠎".trim()&&"᠎_"==="᠎_".trim()?String.prototype.trim:n}},75128:(t,e,r)=>{"use strict";var n=r(36556),o=n("Boolean.prototype.toString"),i=n("Object.prototype.toString"),s=r(49092)();t.exports=function(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(s&&Symbol.toStringTag in t?function(t){try{return o(t),!0}catch(t){return!1}}(t):"[object Boolean]"===i(t))}},75795:(t,e,r)=>{"use strict";var n=r(6549);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},75880:t=>{"use strict";t.exports=Math.pow},76578:t=>{"use strict";t.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},77440:(t,e,r)=>{"use strict";var n=r(71514),o=r(58968),i=r(94459),s=r(63331);t.exports=function(t){if("number"!=typeof t||i(t)||!s(t))return!1;var e=n(t);return o(e)===e}},79290:t=>{"use strict";t.exports=RangeError},79377:(t,e,r)=>{"use strict";var n=r(30592)(),o=r(52422),i=r(74895);t.exports=function(){var t=i();return String.prototype.trim!==t&&(n?o(String.prototype,"trim",t,!0):o(String.prototype,"trim",t)),t}},79538:t=>{"use strict";t.exports=ReferenceError},79612:t=>{"use strict";t.exports=Object},79901:(t,e,r)=>{"use strict";var n=r(70453),o=r(58068),i=r(69675),s=r(36556),a=r(77440),l=n("%Uint8Array%",!0),u=s("Array.prototype.slice"),c=r(25910),f=r(86167),p=r(84670),y=r(37070),g=r(64399),d=r(64097),h=r(45100);t.exports=function(t,e,r,n,s){var b=y(t);if(!p(t)&&!b)throw new i("Assertion failed: `arrayBuffer` must be an ArrayBuffer or a SharedArrayBuffer");if(!a(e))throw new i("Assertion failed: `byteIndex` must be an integer");if("string"!=typeof r||"number"!=typeof d.size["$"+r])throw new i("Assertion failed: `type` must be a Typed Array element type");if("boolean"!=typeof n)throw new i("Assertion failed: `isTypedArray` must be a boolean");if("SEQ-CST"!==s&&"UNORDERED"!==s)throw new i("Assertion failed: `order` must be either `SEQ-CST` or `UNORDERED`");if(arguments.length>5&&"boolean"!=typeof arguments[5])throw new i("Assertion failed: `isLittleEndian` must be a boolean, if present");if(c(t))throw new i("Assertion failed: `arrayBuffer` is detached");if(e<0)throw new i("Assertion failed: `byteIndex` must be non-negative");var v,m=d.size["$"+r];if(!m)throw new i('Assertion failed: `type` must be one of "INT8", "UINT8", "UINT8C", "INT16", "UINT16", "INT32", "UINT32", "BIGINT64", "BIGUINT64", "FLOAT32", or "FLOAT64"');if(b)throw new o("SharedArrayBuffer is not supported by this implementation");v=u(new l(t,e),0,m);var x=arguments.length>5?arguments[5]:"little"===h,w=x?u(g([0,0,0,0,0,0,0,0],v),-m):u(g(v,[0,0,0,0,0,0,0,0]),0,m);return f(r,w,x)}},81350:(t,e,r)=>{"use strict";var n=r(58968);t.exports=function(t,e){var r=t%e;return n(r>=0?r:r+e)}},81539:(t,e,r)=>{"use strict";var n=r(4761),o=r(21703),i=r(75128),s=r(93612),a=r(39803);t.exports=function(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:n(t)?"String":o(t)?"Number":i(t)?"Boolean":s(t)?"Symbol":a(t)?"BigInt":void 0}},82475:(t,e,r)=>{"use strict";var n=r(54224),o=r(8410),i=r(63384),s=r(63331),a=4294967296;t.exports=function(t){var e=o(t);if(!s(e)||0===e)return 0;var r=i(e),l=n(r,a),u=l>=2147483648?l-a:l;return 0===u?0:u}},82682:(t,e,r)=>{"use strict";var n=r(69600),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=r),"[object Array]"===o.call(t)?function(t,e,r){for(var n=0,o=t.length;n<o;n++)i.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,s):"string"==typeof t?function(t,e,r){for(var n=0,o=t.length;n<o;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)}(t,e,s):function(t,e,r){for(var n in t)i.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,s)}},82697:(t,e,r)=>{"use strict";var n=r(70453),o={__proto__:null,$Int8Array:n("%Int8Array%",!0),$Uint8Array:n("%Uint8Array%",!0),$Uint8ClampedArray:n("%Uint8ClampedArray%",!0),$Int16Array:n("%Int16Array%",!0),$Uint16Array:n("%Uint16Array%",!0),$Int32Array:n("%Int32Array%",!0),$Uint32Array:n("%Uint32Array%",!0),$BigInt64Array:n("%BigInt64Array%",!0),$BigUint64Array:n("%BigUint64Array%",!0),$Float32Array:n("%Float32Array%",!0),$Float64Array:n("%Float64Array%",!0)};t.exports=function(t){return o["$"+t]}},83446:(t,e,r)=>{"use strict";var n=r(70453)("%BigInt%",!0),o=r(75880),i=r(22964),s=r(99969),a=r(40122),l=n&&BigInt(o(2,32))*BigInt(o(2,31)),u=n&&BigInt(o(2,32))*BigInt(o(2,32));t.exports=function(t){var e=i(t),r=a(s,e,u);return r>=l?r-u:r}},83802:t=>{"use strict";var e,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;r||(e=function(t){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;e||o||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(o.call(t),i)try{i.call(t)}catch(t){return!0}return t instanceof r}catch(t){}return!1}},84670:(t,e,r)=>{"use strict";var n=r(10487),o=r(36556),i=r(70453)("%ArrayBuffer%",!0),s=o("ArrayBuffer.prototype.byteLength",!0),a=o("Object.prototype.toString"),l=!!i&&!s&&new i(0).slice,u=!!l&&n(l);t.exports=s||u?function(t){if(!t||"object"!=typeof t)return!1;try{return s?s(t):u(t,0),!0}catch(t){return!1}}:i?function(t){return"[object ArrayBuffer]"===a(t)}:function(t){return!1}},84769:(t,e,r)=>{"use strict";var n=r(30592),o=r(30655),i=n.hasArrayLengthDefineBug(),s=i&&r(21412),a=r(36556)("Object.prototype.propertyIsEnumerable");t.exports=function(t,e,r,n,l,u){if(!o){if(!t(u))return!1;if(!u["[[Configurable]]"]||!u["[[Writable]]"])return!1;if(l in n&&a(n,l)!==!!u["[[Enumerable]]"])return!1;var c=u["[[Value]]"];return n[l]=c,e(n[l],c)}return i&&"length"===l&&"[[Value]]"in u&&s(n)&&n.length!==u["[[Value]]"]?(n.length=u["[[Value]]"],n.length===u["[[Value]]"]):(o(n,l,r(u)),!0)}},86167:(t,e,r)=>{"use strict";var n=r(70453),o=r(36556),i=r(79290),s=r(58068),a=r(69675),l=n("%BigInt%",!0),u=r(42491),c=r(10533),f=r(27881),p=r(49373),y=r(4915),g=r(18968),d=r(96570),h=r(44138),b=r(52158),v=o("Array.prototype.reverse"),m=o("Array.prototype.slice"),x=r(1189),w={__proto__:null,INT8:1,UINT8:1,UINT8C:1,INT16:2,UINT16:2,INT32:4,UINT32:4,BIGINT64:8,BIGUINT64:8,FLOAT32:4,FLOAT64:8};t.exports=function(t,e,r){if(!u(w,t))throw new a("Assertion failed: `type` must be a TypedArray element type: "+x(w));if(!c(e)||!h(e,b))throw new a("Assertion failed: `rawBytes` must be an Array of bytes");if("boolean"!=typeof r)throw new a("Assertion failed: `isLittleEndian` must be a Boolean");var n=w[t];if(e.length!==n)throw new i("Assertion failed: `rawBytes` must have a length of "+n+" for type "+t);var o=f(t);if(o&&!l)throw new s("this environment does not support BigInts");return e=m(e,0,n),r||v(e),"FLOAT32"===t?y(e):"FLOAT64"===t?g(e):d(e,n,p(t),o)}},86600:t=>{"use strict";t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},86681:(t,e,r)=>{"use strict";var n=r(69675),o=r(27149),i=r(25910),s=r(35680),a=r(74372);t.exports=function(t,e){if(!s(t))throw new n("Assertion failed: `obj` must be a Typed Array");if("SEQ-CST"!==e&&"UNORDERED"!==e)throw new n("Assertion failed: `order` must be ~SEQ-CST~ or ~UNORDERED~");var r=a(t);return{"[[Object]]":t,"[[CachedBufferByteLength]]":i(r)?"DETACHED":o(r,e)}}},87088:(t,e,r)=>{"use strict";var n=r(54224),o=r(8410),i=r(63384),s=r(63331);t.exports=function(t){var e=o(t);if(!s(e)||0===e)return 0;var r=i(e),a=n(r,256);return a>=128?a-256:a}},87842:t=>{"use strict";var e,r="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,n="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(e=function(t){return!1});var o=r?r.prototype.has:null,i=n?n.prototype.has:null;e||o||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(o.call(t,o),i)try{i.call(t,i)}catch(t){return!0}return t instanceof r}catch(t){}return!1}},89353:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var o=0;o<e.length;o+=1)r[o+t.length]=e[o];return r};t.exports=function(t){var o=this;if("function"!=typeof o||"[object Function]"!==e.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(t){for(var e=[],r=1,n=0;r<t.length;r+=1,n+=1)e[n]=t[r];return e}(arguments),a=r(0,o.length-s.length),l=[],u=0;u<a;u++)l[u]="$"+u;if(i=Function("binder","return function ("+function(t){for(var e="",r=0;r<t.length;r+=1)e+=t[r],r+1<t.length&&(e+=",");return e}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var e=o.apply(this,n(s,arguments));return Object(e)===e?e:this}return o.apply(t,n(s,arguments))})),o.prototype){var c=function(){};c.prototype=o.prototype,i.prototype=new c,c.prototype=null}return i}},90162:t=>{"use strict";t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},90256:t=>{"use strict";var e,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;n||(e=function(t){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;e||i||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t),o)try{o.call(t)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},90893:(t,e,r)=>{"use strict";var n=r(69675),o=r(55701),i=r(84769),s=r(17030),a=r(28131),l=r(13541),u=r(52875),c=r(60259),f=r(92702);t.exports=function(t,e,r){if(!f(t))throw new n("Assertion failed: Type(O) is not Object");if(!l(e))throw new n("Assertion failed: P is not a Property Key");var p=o(r)?r:c(r);if(!o(p))throw new n("Assertion failed: Desc is not a valid Property Descriptor");return i(a,u,s,t,e,p)}},91509:(t,e,r)=>{"use strict";var n=r(69675),o=r(45291),i=r(86681),s=r(92702),a=r(35680);t.exports=function(t,e){if("SEQ-CST"!==e&&"UNORDERED"!==e)throw new n("Assertion failed: `order` must be ~SEQ-CST~ or ~UNORDERED~");if(!s(t))throw new n("Assertion failed: `O` must be an Object");if(!a(t))throw new n("Assertion failed: `O` must be a Typed Array");var r=i(t,e);if(o(r))throw new n("`O` must be in-bounds and backed by a non-detached buffer");return r}},92702:t=>{"use strict";t.exports=function(t){return!!t&&("function"==typeof t||"object"==typeof t)}},92747:(t,e,r)=>{"use strict";var n=r(60034);t.exports=function(){return n}},93559:(t,e,r)=>{"use strict";function n({data:t,getIndex:e,dataRange:r,replace:n}){const{startRow:o=0,endRow:i=1/0}=r,s=t.length;let a=s,l=s;for(let r=0;r<s;r++){const n=e(t[r]);if(a>r&&n>=o&&(a=r),n>=i){l=r;break}}let u=a;const c=l-a!==n.length?t.slice(l):void 0;for(let e=0;e<n.length;e++)t[u++]=n[e];if(c){for(let e=0;e<c.length;e++)t[u++]=c[e];t.length=u}return{startRow:a,endRow:a+n.length}}r.d(e,{J:()=>n})},93612:(t,e,r)=>{"use strict";var n=r(36556),o=n("Object.prototype.toString"),i=r(64039)(),s=r(99721);if(i){var a=n("Symbol.prototype.toString"),l=s(/^Symbol\(.*\)$/);t.exports=function(t){if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||"[object Symbol]"!==o(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&l(a(t))}(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},93628:(t,e,r)=>{"use strict";var n=r(48648),o=r(71064),i=r(7176);t.exports=n?function(t){return n(t)}:o?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("getProto: not an object");return o(t)}:i?function(t){return i(t)}:null},93870:t=>{"use strict";const e=async function(){}.constructor;t.exports=()=>e},94459:t=>{"use strict";t.exports=Number.isNaN||function(t){return t!=t}},95437:(t,e,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=r(90162),i=r(69600),s=r(62120),a=r(93612);t.exports=function(t){if(o(t))return t;var e,r="default";if(arguments.length>1&&(arguments[1]===String?r="string":arguments[1]===Number&&(r="number")),n&&(Symbol.toPrimitive?e=function(t,e){var r=t[e];if(null!=r){if(!i(r))throw new TypeError(r+" returned for property "+String(e)+" of object "+t+" is not a function");return r}}(t,Symbol.toPrimitive):a(t)&&(e=Symbol.prototype.valueOf)),void 0!==e){var l=e.call(t,r);if(o(l))return l;throw new TypeError("unable to convert exotic object to primitive")}return"default"===r&&(s(t)||a(t))&&(r="string"),function(t,e){if(null==t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var r,n,s,a="string"===e?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<a.length;++s)if(r=t[a[s]],i(r)&&(n=r.call(t),o(n)))return n;throw new TypeError("No default value")}(t,"default"===r?"number":r)}},96570:(t,e,r)=>{"use strict";var n=r(70453),o=r(75880),i=n("%Number%"),s=n("%BigInt%",!0);t.exports=function(t,e,r,n){for(var a=n?s:i,l=a(0),u=0;u<t.length;u++)l+=a(t[u]*o(2,8*u));if(!r){var c=8*e;128&t[e-1]&&(l-=a(o(2,c)))}return l}},96897:(t,e,r)=>{"use strict";var n=r(70453),o=r(52422),i=r(30592)(),s=r(75795),a=r(69675),l=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||l(e)!==e)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in t&&s){var c=s(t,"length");c&&!c.configurable&&(n=!1),c&&!c.writable&&(u=!1)}return(n||u||!r)&&(i?o(t,"length",e,!0,!0):o(t,"length",e)),t}},98017:t=>{"use strict";t.exports=function(t){return 0===t&&1/t==-1/0}},98599:(t,e,r)=>{"use strict";var n=r(38452),o=r(93628),i=r(52521);t.exports=function(){if("function"==typeof Uint8Array){var t=i(),e=o(Uint8Array.prototype);n(e,{slice:t},{slice:function(){return e.slice!==t}})}return t}},99154:t=>{"use strict";var e=1075;t.exports=function(t){var r="";if(0===t)return r;for(var n,o=e,i=0;i<e;i+=1)if((n=2*t)>=1?(t=n-1,r+="1",o===e&&(o=i)):(t=n,r+="0"),1===n||i-o>54)return r;return r}},99271:(t,e,r)=>{"use strict";var n=r(69675),o=r(55986),i=r(6575),s=r(45291),a=r(4742),l=r(69346),u=r(74372),c=r(72308),f=r(66058);t.exports=function(t){if(!l(t))throw new n("Assertion failed: `taRecord` must be a TypedArray With Buffer Witness Record");if(s(t))throw new n("Assertion failed: `taRecord` is out of bounds");var e=t["[[Object]]"],r=f(e);if("AUTO"!==r)return r;if(i(u(e)))throw new n("Assertion failed: array buffer is not fixed length");var p=c(e),y=a(e),g=t["[[CachedBufferByteLength]]"];if("DETACHED"===g)throw new n("Assertion failed: typed array is detached");return o((g-p)/y)}},99308:(t,e,r)=>{"use strict";var n=r(59719),o=r(8410),i=r(55986),s=r(94459);t.exports=function(t){var e=o(t);if(s(e))return 0;var r=n(e,0,255),a=i(r);return r<a+.5?a:r>a+.5?a+1:a%2==0?a:a+1}},99721:(t,e,r)=>{"use strict";var n=r(36556),o=r(14035),i=n("RegExp.prototype.exec"),s=r(69675);t.exports=function(t){if(!o(t))throw new s("`regex` must be a RegExp");return function(e){return null!==i(t,e)}}},99897:(t,e,r)=>{"use strict";var n=r(36268),o=r(93628);t.exports=function(){return"object"==typeof Reflect&&Reflect&&Reflect.getPrototypeOf?Reflect.getPrototypeOf:o?function(t){return o(t)}:n}},99969:(t,e,r)=>{"use strict";var n=r(70453)("%BigInt%",!0),o=r(79290),i=r(69675),s=n&&n(0);t.exports=function(t,e){if("bigint"!=typeof t||"bigint"!=typeof e)throw new i("Assertion failed: `n` and `d` arguments must be BigInts");if(e===s)throw new o("Division by zero");return t===s?s:t%e}}}]);