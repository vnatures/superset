"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[9285],{3175:(e,n,t)=>{t.d(n,{Bo:()=>I,Gv:()=>p,Jp:()=>y,Kz:()=>b,LG:()=>N,N3:()=>C,P9:()=>A,RB:()=>d,SZ:()=>w,_W:()=>g,fF:()=>f,gd:()=>x,n4:()=>v,nC:()=>k,om:()=>m,pK:()=>h,qY:()=>$,qw:()=>S,tS:()=>P});var l=t(62952),o=t(95579),a=t(83307),r=t(16294),i=t(6308),s=t(2445),u=t(17437);const{Option:c}=a.default,d="Select All",f={value:d,label:String(d)};function p(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)}function h(e){return p(e)&&"value"in e&&"label"in e}function g(e){return h(e)?e.value:e}function v(e,n,t){return(p(e)&&t in e?e[t]:e)==(p(n)&&t in n?n[t]:n)}function m(e,n,t=!1){return(0,l.A)(n).find((n=>v(n,e,"value")||t&&v(n,e,"label")))}function b(e,n,t=!1){return void 0!==m(e,n,t)}const S=e=>(n,t)=>{const l=n[e],o=t[e];return"string"==typeof l&&"string"==typeof o?l.localeCompare(o):"number"==typeof l&&"number"==typeof o?l-o:String(l).localeCompare(String(o))},w=(e,n,t)=>t&&void 0!==e.value&&void 0!==n.value?Number(b(n.value,t))-Number(b(e.value,t)):0,A=(e,n,t,l,o)=>l(e,n)||o(e,n,t),C=(e,n,t,l)=>t(e,n)||l(e,n,""),y=(e,n,t)=>e?(0,s.Y)(i.IO,{size:"small"}):n&&t?(0,s.Y)(r.A.SearchOutlined,{iconSize:"s"}):(0,s.Y)(r.A.DownOutlined,{iconSize:"s"}),x=(e,n,t,l,a,r)=>{var u,c;return n||null==(u=e.ref)||null==(c=u.current)||c.scrollTo({top:0}),t&&0===l?(0,s.Y)(i.Vg,{children:(0,o.t)("Loading...")}):r||(0,s.FD)(s.FK,{children:[a&&(0,s.Y)(i.tK,{role:"note",children:a}),e]})},$=(e,n,t,l)=>{if("function"==typeof l)return l(e,n);if(l){const l=e.trim().toLowerCase();if(null!=t&&t.length)return t.some((e=>(null!=n&&n[e]?String(n[e]).trim().toLowerCase():"").includes(l)))}return!1},k=e=>null==e?void 0:e.some((e=>!(null==e||!e.customLabel))),I=e=>e.map((e=>{const n="object"==typeof e,t=n?(null==e?void 0:e.label)||e.value:e,l=n?e.value:e,{customLabel:o,...a}=e;return(0,u.n)(c,{...a,key:l,label:t,value:l},n&&o?o:t)})),N=(e,n)=>n?e.map((e=>({key:e.value,value:e.value,label:e.label}))):e.map((e=>e.value)),P=e=>e.map((e=>({children:e.label,key:e.value,...e})))},6308:(e,n,t)=>{t.d(n,{EL:()=>p,IO:()=>h,Iu:()=>c,Q6:()=>d,UX:()=>f,Vg:()=>g,_A:()=>m,h9:()=>s,jQ:()=>b,rf:()=>u,tK:()=>v});var l=t(96453),o=t(16294),a=t(66270),r=t(428),i=t(83307);const s=l.I4.span`
  ${({theme:e,headerPosition:n})=>`\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    margin-right: ${"left"===n?2*e.gridUnit:0}px;\n  `}
`,u=l.I4.div`
  ${({headerPosition:e})=>`\n    display: flex;\n    flex-direction: ${"top"===e?"column":"row"};\n    align-items: ${"left"===e?"center":void 0};\n    width: 100%;\n  `}
`,c=(0,l.I4)(i.default,{shouldForwardProp:e=>"headerPosition"!==e&&"oneLine"!==e})`
  ${({theme:e,headerPosition:n,oneLine:t})=>`\n    flex: ${"left"===n?1:0};\n    && .ant-select-selector {\n      border-radius: ${e.gridUnit}px;\n    }\n    // Open the dropdown when clicking on the suffix\n    // This is fixed in version 4.16\n    .ant-select-arrow .anticon:not(.ant-select-suffix) {\n      pointer-events: none;\n    }\n    .select-all {\n      border-bottom: 1px solid ${e.colors.grayscale.light3};\n    }\n    ${t&&`\n        .ant-select-selection-overflow {\n          flex-wrap: nowrap;\n        }\n\n        .ant-select-selection-overflow-item:not(.ant-select-selection-overflow-item-rest):not(.ant-select-selection-overflow-item-suffix) {\n          flex-shrink: 1;\n          min-width: ${13*e.gridUnit}px;\n        }\n\n        .ant-select-selection-overflow-item-suffix {\n          flex: unset;\n          min-width: 0px;\n        }\n      `};\n `}
`,d=l.I4.span`
  display: none;
`,f=((0,l.I4)(a.A)`
  ${({theme:e})=>`\n    background: ${e.colors.grayscale.light3};\n    font-size: ${e.typography.sizes.m}px;\n    border: none;\n  `}
`,(0,l.I4)(o.A.StopOutlined)`
  vertical-align: 0;
`),p=(0,l.I4)(o.A.CheckOutlined)`
  vertical-align: 0;
`,h=(0,l.I4)(r.A)`
  margin-top: ${({theme:e})=>-e.gridUnit}px;
`,g=l.I4.div`
  ${({theme:e})=>`\n   margin-left: ${3*e.gridUnit}px;\n   line-height: ${8*e.gridUnit}px;\n   color: ${e.colors.grayscale.light1};\n `}
`,v=l.I4.div`
  ${({theme:e})=>`\n   padding: ${2*e.gridUnit}px ${3*e.gridUnit}px;\n   color: ${e.colors.grayscale.base};\n   font-size: ${e.typography.sizes.s}px;\n   cursor: default;\n   border-bottom: 1px solid ${e.colors.grayscale.light2};\n `}
`,m=l.I4.div`
  ${({theme:e})=>`\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    width: 100%;\n    padding: ${2*e.gridUnit}px;\n    color: ${e.colors.error.base};\n    & svg {\n      margin-right: ${2*e.gridUnit}px;\n    }\n  `}
`,b=l.I4.div`
  overflow: hidden;
  text-overflow: ellipsis;
`},14120:(e,n,t)=>{t.d(n,{yQ:()=>r,Ou:()=>i,X_:()=>a,GB:()=>l,hR:()=>o});const l=4,o=[",","\r\n","\n","\t",";"],a=[],r=100,i=(e,n,t)=>{let l,o;return"string"==typeof e.label&&"string"==typeof n.label?(l=e.label,o=n.label):"string"==typeof e.value&&"string"==typeof n.value&&(l=e.value,o=n.value),"string"==typeof l&&"string"==typeof o?t?function(e,n,t){const l=e.toLowerCase()||"",o=n.toLowerCase()||"",a=t.toLowerCase()||"";return t&&(Number(n===t)-Number(e===t)||Number(n.startsWith(t))-Number(e.startsWith(t))||Number(o===a)-Number(l===a)||Number(o.startsWith(a))-Number(l.startsWith(a))||Number(n.includes(t))-Number(e.includes(t))||Number(o.includes(a))-Number(e.includes(a)))||e.localeCompare(n)}(l,o,t):l.localeCompare(o):e.value-n.value}},15595:(e,n,t)=>{t.d(n,{$n:()=>a.A,BD:()=>m.A,DW:()=>o.A,EA:()=>d.A,PE:()=>u.A,PH:()=>p.A,Wq:()=>w.A,Zp:()=>r.A,_O:()=>v.A,_P:()=>A.A,f5:()=>S.A,f7:()=>h.A,fI:()=>c.A,fv:()=>i.A,l6:()=>l.A,o5:()=>g.A,vo:()=>b.A,vw:()=>f.A,xA:()=>s.Ay});var l=t(28990),o=t(49756),a=t(46920),r=t(91162),i=t(31736),s=t(81622),u=t(77598),c=t(84010),d=t(22246),f=t(20660),p=t(30639),h=t(25330),g=t(51504),v=t(46691),m=t(40080),b=t(940),S=t(38510),w=t(66121),A=t(36492)},16707:(e,n,t)=>{t.d(n,{A:()=>d,v:()=>c});var l=t(96453),o=t(20660),a=t(96540),r=t(19129),i=t(16294),s=t(2445);const u=(0,l.I4)(o.A)`
  ${({theme:e})=>`\n  margin-top: ${e.gridUnit}px;\n  margin-bottom: ${e.gridUnit}px;\n  `};
`,c=(0,s.Y)(i.A.CloseOutlined,{iconSize:"xs",role:"button"}),d=({name:e,id:n,index:t,onDelete:l,editable:o=!1,onClick:i,toolTipTitle:d=e,children:f,...p})=>{const h=(0,a.useMemo)((()=>e.length>20),[e])?`${e.slice(0,20)}...`:e,g=i?n?"link":"button":void 0;return(0,s.Y)(s.FK,{children:o?(0,s.Y)(r.m_,{title:d,children:(0,s.Y)(u,{closable:o,onClose:()=>void 0!==t?null==l?void 0:l(t):null,closeIcon:o?c:void 0,...p,children:f||h},n)},d):(0,s.Y)(r.m_,{title:d,children:(0,s.FD)(u,{onClick:i,role:g,...p,children:[" ",n?(0,s.Y)("a",{href:`/superset/all_entities/?id=${n}`,target:"_blank",rel:"noreferrer",children:f||h}):f||h]},n)},d)})}},27091:(e,n,t)=>{t.d(n,{S:()=>p});var l=t(66270),o=t(96453),a=t(37827),r=t(19129),i=t(16707),s=t(3175),u=t(6308),c=t(2445);const d=(0,o.I4)(l.A)`
  & .ant-tag-close-icon {
    display: inline-flex;
    align-items: center;
    margin-left: ${({theme:e})=>e.gridUnit}px;
  }

  & .tag-content {
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,f=e=>{const[n,t]=(0,a.A)();return(0,c.Y)(r.m_,{title:t?e.children:null,children:(0,c.Y)(d,{closeIcon:null!=e&&e.closable?i.v:void 0,...e,className:"ant-select-selection-item",children:(0,c.Y)("span",{className:"tag-content",ref:n,children:e.children})})})},p=e=>{const{label:n,value:t}=e;return t!==s.RB?(0,c.Y)(f,{onMouseDown:e=>{const n=e.target;("svg"===n.tagName||"path"===n.tagName||"span"===n.tagName&&n.className.includes("ant-tag-close-icon"))&&e.stopPropagation()},...e,children:n}):(0,c.Y)(u.Q6,{})}},28990:(e,n,t)=>{t.d(n,{A:()=>C});var l=t(63375),o=t.n(l),a=t(2404),r=t.n(a),i=t(38221),s=t.n(i),u=t(96540),c=t(95579),d=t(83505),f=t(62952),p=t(32142),h=t(53682),g=t(83307),v=t(27023),m=t(3175),b=t(6308),S=t(14120),w=t(27091),A=t(2445);const C=(0,u.forwardRef)((({allowClear:e,allowNewOptions:n=!1,allowSelectAll:t=!0,ariaLabel:l,autoClearSearchValue:a=!1,filterOption:i=!0,header:C=null,headerPosition:y="top",helperText:x,invertSelection:$=!1,labelInValue:k=!1,loading:I,mode:N="single",name:P,notFoundContent:_,onBlur:z,onChange:O,onClear:Y,onDropdownVisibleChange:R,onDeselect:W,onSearch:E,onSelect:B,optionFilterProps:L=["label","value"],options:K,placeholder:D=(0,c.t)("Select ..."),showSearch:F=!0,sortComparator:M=S.Ou,tokenSeparators:U=S.hR,value:T,getPopupContainer:V,oneLine:G,maxTagCount:j,...Z},q)=>{const Q="single"===N,X=!!n||F,[H,J]=(0,u.useState)(T),[ee,ne]=(0,u.useState)(""),[te,le]=(0,u.useState)(I),[oe,ae]=(0,u.useState)(!1),[re,ie]=(0,u.useState)(null!=j?j:S.GB),[se,ue]=(0,u.useState)(0),ce=(0,d.Z)(se,0),de=(0,u.useCallback)((()=>ue(se+1)),[se]);(0,u.useEffect)((()=>{G&&ie(oe?0:1)}),[oe,G]);const fe=Q?void 0:"multiple",{Option:pe}=g.default,he=(0,u.useCallback)(((e,n)=>(0,m.SZ)(e,n,H)),[H]),ge=(0,u.useCallback)(((e,n)=>(0,m.P9)(e,n,ee,he,M)),[ee,M,he]),ve=(0,u.useMemo)((()=>Array.isArray(K)?K.slice():S.X_),[K]),me=(0,u.useMemo)((()=>ve.slice().sort(he)),[ve,he]),[be,Se]=(0,u.useState)(me),we=(0,u.useMemo)((()=>{let e;be.some((e=>e.options))&&(e=be.reduce(((e,n)=>[...e,...n.options]),[]));const n=(0,f.A)(H).filter((n=>!(0,m.Kz)((0,m._W)(n),e||be))).map((e=>(0,m.pK)(e)?e:{value:e,label:String(e)}));return(n.length>0?n.concat(be):be).filter((e=>e.value!==m.RB))}),[be,H]),Ae=(0,u.useMemo)((()=>we.filter((e=>!e.disabled))),[we]),Ce=(0,u.useMemo)((()=>we.filter((e=>(0,m.Kz)(e.value,H)||!e.disabled))),[we,H]),ye=(0,u.useMemo)((()=>!Q&&t&&be.length>0&&Ae.length>1&&!ee),[Q,t,be.length,Ae.length,ee]),xe=(0,u.useMemo)((()=>(0,f.A)(H).length===Ce.length+1),[H,Ce]),$e=()=>{J(Q?void 0:we.filter((e=>e.disabled&&(0,m.Kz)(e.value,H))).map((e=>k?{label:e.label,value:e.value}:e.value))),de()},ke=s()((e=>{const t=e.trim();if(n){const e=t&&!(0,m.Kz)(t,we,!0)&&{label:t,value:t,isNewOption:!0},n=(0,f.A)(we).filter((e=>!e.isNewOption||(0,m.Kz)(e.value,H))),l=e?[e,...n]:n;Se(l)}ne(t),null==E||E(t)}),v.jW);(0,u.useEffect)((()=>()=>ke.cancel()),[ke]),(0,u.useEffect)((()=>{Se(ve)}),[ve]),(0,u.useEffect)((()=>{void 0!==I&&I!==te&&le(I)}),[te,I]),(0,u.useEffect)((()=>{J(T)}),[T]),(0,u.useEffect)((()=>{ye&&(0,f.A)(T).length===Ce.length&&J(k?[...(0,f.A)(T),m.fF]:[...(0,f.A)(T),m.RB])}),[k,Ce.length,ye,T]),(0,u.useEffect)((()=>{if((0,f.A)(H).some((e=>(0,m._W)(e)===m.RB))&&!xe){const e=Ce.map((e=>k?e:e.value));e.push(k?m.fF:m.RB),J(e),de()}}),[H,xe,k,Ce,de]);const Ie=(0,u.useMemo)((()=>()=>`${m.RB} (${(0,p.ZV)(h.A.INTEGER,Ce.length)})`),[Ce]),Ne=(0,u.useCallback)(((e,n)=>{let t=e,l=n;if(!Q)if((0,f.A)(t).some((e=>(0,m._W)(e)===m.RB)))xe?t=(0,f.A)(e).filter((e=>(0,m._W)(e)!==m.RB)):(t=(0,m.LG)(Ce,k),l=(0,m.tS)(Ce));else if((0,f.A)(e).length===Ce.length&&xe){const e=Ce.filter((e=>(0,m.Kz)(e.value,H)&&e.disabled));t=(0,m.LG)(e,k),l=(0,m.tS)(e)}null==O||O(t,l)}),[Q,k,O,Ce,xe,H]);(0,u.useEffect)((()=>{if(se!==ce){const e=(0,f.A)(H),n=new Set(e.map(m._W)),t=(0,m.tS)(we.filter((e=>n.has(e.value))));Q?Ne(H,H?t[0]:void 0):Ne(e,t)}}),[we,Ne,Q,O,se,ce,H]);const Pe=(0,u.useMemo)((()=>ye||(0,m.nC)(K)),[ye,K]),_e=(0,u.useMemo)((()=>(0,f.A)(H).length-re-(xe?1:0)),[re,xe,H]);let ze=re;"responsive"!==ze&&0===_e&&xe&&(ze-=1);const Oe=(0,u.useCallback)((e=>{const t=(0,m.om)(e,we,!0);if(t||n){if(k){const n={label:e,value:e};return t&&(n.label=(0,m.Gv)(t)?t.label:t,n.value=(0,m.Gv)(t)?t.value:t),n}return t?(0,m.Gv)(t)?t.value:t:e}}),[n,we,k]);return(0,A.FD)(b.rf,{headerPosition:y,children:[C&&(0,A.Y)(b.h9,{headerPosition:y,children:C}),(0,A.FD)(b.Iu,{id:P,allowClear:!te&&e,"aria-label":l,autoClearSearchValue:a,dropdownRender:e=>(0,m.gd)(e,oe,te,we.length,x),filterOption:(e,n)=>(0,m.qY)(e,n,L,i),filterSort:ge,getPopupContainer:V||(e=>e.parentNode),headerPosition:y,labelInValue:k,maxTagCount:ze,maxTagPlaceholder:()=>`+ ${_e>0?_e:1} ...`,mode:fe,notFoundContent:te?(0,c.t)("Loading..."):_,onBlur:e=>{ne(""),null==z||z(e)},onDeselect:(e,n)=>{if(Array.isArray(H))if((0,m._W)(e)===(0,m._W)(m.RB))$e();else{let t=H;t=t.filter((n=>(0,m._W)(n)!==(0,m._W)(e))),xe&&!n.isNewOption&&(t=t.filter((e=>(0,m._W)(e)!==m.RB))),J(t),n.isNewOption&&Se(we.filter((n=>(0,m._W)(n.value)!==(0,m._W)(e))))}de(),null==W||W(e,n)},onDropdownVisibleChange:e=>{ae(e),e&&!ee&&be.length>1&&(r()(me,be)||Se(me)),R&&R(e)},onPaste:e=>{const n=e.clipboardData.getData("text");if(Q){const e=Oe(n);e&&J(e)}else{const e=U.find((e=>n.includes(e))),t=(e?o()(n.split(e)):[n]).map((e=>Oe(e))).filter((e=>void 0!==e));J((e=>[...e||[],...t]))}de()},onPopupScroll:void 0,onSearch:X?ke:void 0,onSelect:(e,n)=>{if(Q){const n=!(0,m.n4)(e,H,"value");J(e),n&&de()}else J((n=>{const t=(0,f.A)(n),l=(0,m._W)(e);if(l===(0,m._W)(m.RB))return(0,m.pK)(e)?[...Ce,m.fF]:[m.RB,...Ce.map((e=>e.value))];if(!(0,m.Kz)(l,t)){const n=[...t,e];return n.length===Ce.length&&ye?(0,m.pK)(e)?[...n,m.fF]:[...n,m.RB]:n}return n})),de();null==B||B(e,n)},onClear:()=>{$e(),Y&&Y()},placeholder:D,showSearch:X,showArrow:!0,tokenSeparators:U,value:H,suffixIcon:(0,m.Jp)(te,X,oe),menuItemSelectedIcon:$?(0,A.Y)(b.UX,{iconSize:"m","aria-label":"stop"}):(0,A.Y)(b.EL,{iconSize:"m","aria-label":"check"}),options:Pe?void 0:we,oneLine:G,tagRender:w.S,...Z,ref:q,children:[ye&&(0,A.Y)(pe,{id:"select-all",className:"select-all",value:m.RB,children:Ie()},m.RB),Pe&&(0,m.Bo)(we)]})]})}))},37827:(e,n,t)=>{t.d(n,{A:()=>a,P:()=>o});var l=t(96540);const o={name:"l8l8b8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis"},a=()=>{const[e,n]=(0,l.useState)(!0),t=(0,l.useRef)(null),[o,a]=(0,l.useState)(0),[r,i]=(0,l.useState)(0);return(0,l.useEffect)((()=>{var e,n,l,o;a(null!=(e=null==(n=t.current)?void 0:n.offsetWidth)?e:0),i(null!=(l=null==(o=t.current)?void 0:o.scrollWidth)?l:0)})),(0,l.useEffect)((()=>{n(o<r)}),[o,r]),[t,e]}},49756:(e,n,t)=>{t.d(n,{A:()=>y});var l=t(63375),o=t.n(l),a=t(2404),r=t.n(a),i=t(38221),s=t.n(i),u=t(96540),c=t(95579),d=t(83505),f=t(62952),p=t(51436),h=t(16294),g=t(27023),v=t(3175),m=t(6308),b=t(14120),S=t(27091),w=t(2445);const A=({error:e})=>(0,w.FD)(m._A,{children:[(0,w.Y)(h.A.ExclamationCircleOutlined,{})," ",(0,w.Y)(m.jQ,{children:e})]}),C=(e,n,t)=>`${e};${n};${t}`,y=(0,u.forwardRef)((({allowClear:e,allowNewOptions:n=!1,ariaLabel:t,autoClearSearchValue:l=!1,fetchOnlyOnSearch:a,filterOption:i=!0,header:h=null,headerPosition:y="top",helperText:x,invertSelection:$=!1,lazyLoading:k=!0,loading:I,mode:N="single",name:P,notFoundContent:_,onBlur:z,onError:O,onChange:Y,onClear:R,onDropdownVisibleChange:W,onDeselect:E,onSearch:B,onSelect:L,optionFilterProps:K=["label","value"],options:D,pageSize:F=b.yQ,placeholder:M=(0,c.t)("Select ..."),showSearch:U=!0,sortComparator:T=b.Ou,tokenSeparators:V=b.hR,value:G,getPopupContainer:j,oneLine:Z,maxTagCount:q,...Q},X)=>{const H="single"===N,[J,ee]=(0,u.useState)(G),[ne,te]=(0,u.useState)(""),[le,oe]=(0,u.useState)(I),[ae,re]=(0,u.useState)(""),[ie,se]=(0,u.useState)(!1),[ue,ce]=(0,u.useState)(0),[de,fe]=(0,u.useState)(0),[pe,he]=(0,u.useState)(!k),[ge,ve]=(0,u.useState)(!1),me=(0,u.useRef)(J),be=(0,u.useRef)(new Map),Se=H?void 0:"multiple",we=!a||ne,[Ae,Ce]=(0,u.useState)(null!=q?q:b.GB),[ye,xe]=(0,u.useState)(0),$e=(0,d.Z)(ye,0),ke=(0,u.useCallback)((()=>xe(ye+1)),[ye]);(0,u.useEffect)((()=>{Z&&Ce(ie?0:1)}),[ie,Z]),(0,u.useEffect)((()=>{me.current=J}),[J]);const Ie=(0,u.useCallback)(((e,n)=>(0,v.SZ)(e,n,me.current)),[]),Ne=(0,u.useCallback)(((e,n)=>(0,v.P9)(e,n,ne,Ie,T)),[ne,T,Ie]),Pe=(0,u.useCallback)(((e,n)=>(0,v.N3)(e,n,Ie,T)),[T,Ie]),[_e,ze]=(0,u.useState)(b.X_),Oe=(0,u.useMemo)((()=>{const e=(0,f.A)(J).filter((e=>!(0,v.Kz)((0,v._W)(e),_e))).map((e=>(0,v.pK)(e)?e:{value:e,label:String(e)}));return e.length>0?e.concat(_e):_e}),[_e,J]),Ye=(0,u.useCallback)((e=>(0,p.h4)(e).then((e=>{const{error:n}=e;re(n),O&&O(n)}))),[O]),Re=(0,u.useCallback)((e=>{let n=[];if(e&&Array.isArray(e)&&e.length){const t=new Set(e.map((e=>e.value)));ze((l=>(n=l.filter((e=>!t.has(e.value))).concat(e).sort(Pe),n)))}return n}),[Pe]),We=(0,u.useMemo)((()=>(e,n)=>{if(ce(n),ge)return void oe(!1);const t=C(e,n,F),l=be.current.get(t);if(void 0!==l)return fe(l),void oe(!1);oe(!0),D(e,n,F).then((({data:n,totalCount:l})=>{const o=Re(n);be.current.set(t,l),fe(l),!a&&""===e&&o.length>=l&&ve(!0)})).catch(Ye).finally((()=>{oe(!1)}))}),[ge,a,Re,Ye,D,F]),Ee=(0,u.useMemo)((()=>s()(We,g.Qs)),[We]),Be=s()((e=>{const t=e.trim();if(n){const e=t&&!(0,v.Kz)(t,Oe,!0)&&{label:t,value:t,isNewOption:!0},n=Oe.filter((e=>!e.isNewOption||(0,v.Kz)(e.value,J))),l=e?[e,...n]:n;ze(l)}ge||!pe||be.current.has(C(t,0,F))||oe(!(a&&!t)),te(e),null==B||B(t)}),g.jW);(0,u.useEffect)((()=>()=>Be.cancel()),[Be]),(0,u.useEffect)((()=>{if(ye!==$e){const e=(0,f.A)(J),n=new Set(e.map(v._W)),t=(0,v.tS)(Oe.filter((e=>n.has(e.value))));H?null==Y||Y(J,t[0]):null==Y||Y(e,t)}}),[Oe,H,Y,ye,$e,J]),(0,u.useEffect)((()=>{be.current.clear(),ve(!1),ze(b.X_)}),[D]),(0,u.useEffect)((()=>{ee(G)}),[G]),(0,u.useEffect)((()=>()=>{Ee.cancel()}),[Ee]),(0,u.useEffect)((()=>{pe&&we&&(ne?Ee(ne,0):We("",0))}),[pe,We,we,ne,Ee]),(0,u.useEffect)((()=>{void 0!==I&&I!==le&&oe(I)}),[le,I]);const Le=()=>be.current.clear();(0,u.useImperativeHandle)(X,(()=>({...X.current,clearCache:Le})),[X]);const Ke=(0,u.useCallback)((async e=>{let t=(0,v.om)(e,Oe,!0);if(!t&&!ge){const n=D;t=await n(e,0,F).then((({data:n})=>n.find((n=>n.label===e))))}if(!t&&!n)return;const l={label:e,value:e};return t&&(l.label=(0,v.Gv)(t)?t.label:t,l.value=(0,v.Gv)(t)?t.value:t),l}),[ge,n,Oe,D,F]),De=(0,u.useMemo)((()=>(0,v.nC)(Oe)),[Oe]);return(0,w.FD)(m.rf,{headerPosition:y,children:[h&&(0,w.Y)(m.h9,{headerPosition:y,children:h}),(0,w.Y)(m.Iu,{allowClear:!le&&e,"aria-label":t||P,autoClearSearchValue:l,dropdownRender:e=>(0,v.gd)(e,ie,le,Oe.length,x,ae?(0,w.Y)(A,{error:ae}):void 0),filterOption:(e,n)=>(0,v.qY)(e,n,K,i),filterSort:Ne,getPopupContainer:j||(e=>e.parentNode),headerPosition:y,labelInValue:!0,maxTagCount:Ae,mode:Se,notFoundContent:le?(0,c.t)("Loading..."):_,onBlur:e=>{te(""),null==z||z(e)},onDeselect:(e,n)=>{Array.isArray(J)&&((0,v.pK)(e)?ee(J.filter((n=>n.value!==e.value))):ee(J.filter((n=>n!==e))),n.isNewOption&&ze(Oe.filter((n=>(0,v._W)(n.value)!==(0,v._W)(e))))),ke(),null==E||E(e,n)},onDropdownVisibleChange:e=>{if(se(e),pe!==e&&he(e),!e&&le&&setTimeout((()=>{oe(!1)}),250),e&&!ne&&_e.length>1){const e=_e.slice().sort(Pe);r()(e,_e)||ze(e)}W&&W(e)},onPaste:async e=>{const n=e.clipboardData.getData("text");if(H){const e=await Ke(n);e&&ee(e)}else{const e=V.find((e=>n.includes(e))),t=e?o()(n.split(e)):[n],l=(await Promise.all(t.map((e=>Ke(e))))).filter((e=>void 0!==e));ee((e=>[...e||[],...l.filter((n=>!(0,v.Kz)(n.value,e)))]))}ke()},onPopupScroll:e=>{const n=e.currentTarget,t=n.scrollTop>.7*(n.scrollHeight-n.offsetHeight);!le&&ue*F+F<de&&t&&We(ne,ue+1)},onSearch:U?Be:void 0,onSelect:(e,n)=>{if(H){const n=!(0,v.n4)(e,J,"value");ee(e),n&&ke()}else ee((n=>{const t=(0,f.A)(n),l=(0,v._W)(e);if(!(0,v.Kz)(l,t)){const n=[...t,e];return(0,v.pK)(e),n}return n})),ke();null==L||L(e,n)},onClear:()=>{ee(void 0),R&&R(),ke()},options:De?void 0:Oe,placeholder:M,showSearch:U,showArrow:!0,tokenSeparators:V,value:J,suffixIcon:(0,v.Jp)(le,U,ie),menuItemSelectedIcon:$?(0,w.Y)(m.UX,{iconSize:"m","aria-label":"stop"}):(0,w.Y)(m.EL,{iconSize:"m","aria-label":"check"}),oneLine:Z,tagRender:S.S,...Q,ref:X,children:(0,v.nC)(Oe)&&(0,v.Bo)(Oe)})]})}))},83505:(e,n,t)=>{t.d(n,{Z:()=>o});var l=t(96540);function o(e,n){const t=(0,l.useRef)(n);return(0,l.useEffect)((()=>{t.current=e}),[e]),t.current}},86523:(e,n,t)=>{t.d(n,{A:()=>o});var l=t(77925);const o=(0,t(96453).I4)(l.A.Item)`
  ${({theme:e})=>`\n    .ant-form-item-label {\n      padding-bottom: ${e.gridUnit}px;\n      & > label {\n        font-size: ${e.typography.sizes.s}px;\n        color: ${e.colors.grayscale.base};\n\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            color: ${e.colors.error.base};\n            font-size: ${e.typography.sizes.s}px;\n            content: '*';\n          }\n        }\n      }\n    }\n  `}
`},91162:(e,n,t)=>{t.d(n,{A:()=>a});var l=t(83958),o=t(2445);const a=Object.assign((({padded:e,...n})=>(0,o.Y)(l.A,{...n,css:n=>({border:`1px solid ${n.colors.grayscale.light2}`,".antd5-card-body":{padding:e?4*n.gridUnit:n.gridUnit}})})),{Meta:l.A.Meta})}}]);