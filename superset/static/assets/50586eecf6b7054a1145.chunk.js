"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[3191],{8960:(e,t,a)=>{var r=a(30327);t.createFirstEllipsis=function(e){return{type:r.ITEM_TYPES.ELLIPSIS,key:r.ITEM_KEYS.FIRST_ELLIPSIS,value:e,isActive:!1}},t.createSecondEllipsis=function(e){return{type:r.ITEM_TYPES.ELLIPSIS,key:r.ITEM_KEYS.SECOND_ELLIPSIS,value:e,isActive:!1}},t.createFirstPageLink=function(e){var t=e.currentPage;return{type:r.ITEM_TYPES.FIRST_PAGE_LINK,key:r.ITEM_KEYS.FIRST_PAGE_LINK,value:1,isActive:1===t}},t.createPreviousPageLink=function(e){var t=e.currentPage;return{type:r.ITEM_TYPES.PREVIOUS_PAGE_LINK,key:r.ITEM_KEYS.PREVIOUS_PAGE_LINK,value:Math.max(1,t-1),isActive:1===t}},t.createNextPageLink=function(e){var t=e.currentPage,a=e.totalPages;return{type:r.ITEM_TYPES.NEXT_PAGE_LINK,key:r.ITEM_KEYS.NEXT_PAGE_LINK,value:Math.min(a,t+1),isActive:t===a}},t.createLastPageLink=function(e){var t=e.currentPage,a=e.totalPages;return{type:r.ITEM_TYPES.LAST_PAGE_LINK,key:r.ITEM_KEYS.LAST_PAGE_LINK,value:a,isActive:t===a}},t.createPageFunctionFactory=function(e){var t=e.currentPage;return function(e){return{type:r.ITEM_TYPES.PAGE,key:e,value:e,isActive:e===t}}}},11447:(e,t,a)=>{var r=a(17991),n=a(8960);t.getPaginationModel=function(e){if(null==e)throw new Error("getPaginationModel(): options object should be a passed");var t=Number(e.totalPages);if(isNaN(t))throw new Error("getPaginationModel(): totalPages should be a number");if(t<0)throw new Error("getPaginationModel(): totalPages shouldn't be a negative number");var a=Number(e.currentPage);if(isNaN(a))throw new Error("getPaginationModel(): currentPage should be a number");if(a<0)throw new Error("getPaginationModel(): currentPage shouldn't be a negative number");if(a>t)throw new Error("getPaginationModel(): currentPage shouldn't be greater than totalPages");var i=null==e.boundaryPagesRange?1:Number(e.boundaryPagesRange);if(isNaN(i))throw new Error("getPaginationModel(): boundaryPagesRange should be a number");if(i<0)throw new Error("getPaginationModel(): boundaryPagesRange shouldn't be a negative number");var o=null==e.siblingPagesRange?1:Number(e.siblingPagesRange);if(isNaN(o))throw new Error("getPaginationModel(): siblingPagesRange should be a number");if(o<0)throw new Error("getPaginationModel(): siblingPagesRange shouldn't be a negative number");var s=Boolean(e.hidePreviousAndNextPageLinks),l=Boolean(e.hideFirstAndLastPageLinks),c=Boolean(e.hideEllipsis),u=c?0:1,g=[],d=n.createPageFunctionFactory(e);if(l||g.push(n.createFirstPageLink(e)),s||g.push(n.createPreviousPageLink(e)),1+2*u+2*o+2*i>=t){var P=r.createRange(1,t).map(d);g.push.apply(g,P)}else{var E=i,h=r.createRange(1,E).map(d),p=t+1-i,b=t,S=r.createRange(p,b).map(d),f=Math.min(Math.max(a-o,E+u+1),p-u-2*o-1),_=f+2*o,I=r.createRange(f,_).map(d);if(g.push.apply(g,h),!c){var L=f-1,m=(L===E+1?d:n.createFirstEllipsis)(L);g.push(m)}if(g.push.apply(g,I),!c){var A=_+1,v=(A===p-1?d:n.createSecondEllipsis)(A);g.push(v)}g.push.apply(g,S)}return s||g.push(n.createNextPageLink(e)),l||g.push(n.createLastPageLink(e)),g};var i=a(30327);t.ITEM_TYPES=i.ITEM_TYPES,t.ITEM_KEYS=i.ITEM_KEYS},17991:(e,t)=>{t.createRange=function(e,t){for(var a=[],r=e;r<=t;r++)a.push(r);return a}},18575:(e,t,a)=>{t.w$=t.uv=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=s(a(96540)),i=s(a(5556)),o=a(11447);function s(e){return e&&e.__esModule?e:{default:e}}t.uv=function(e){var t=e.itemTypeToComponent,a=e.WrapperComponent,s=void 0===a?"div":a,l=function(e){var a=e.currentPage,i=e.totalPages,l=e.boundaryPagesRange,c=e.siblingPagesRange,u=e.hideEllipsis,g=e.hidePreviousAndNextPageLinks,d=e.hideFirstAndLastPageLinks,P=e.onChange,E=e.disabled,h=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["currentPage","totalPages","boundaryPagesRange","siblingPagesRange","hideEllipsis","hidePreviousAndNextPageLinks","hideFirstAndLastPageLinks","onChange","disabled"]),p=(0,o.getPaginationModel)({currentPage:a,totalPages:i,boundaryPagesRange:l,siblingPagesRange:c,hideEllipsis:u,hidePreviousAndNextPageLinks:g,hideFirstAndLastPageLinks:d}),b=function(e,t,a){return function(i){var o,s,l,c=e[i.type],u=(s=(o=i).value,l=o.isDisabled,function(){!l&&a&&t!==s&&a(s)});return n.default.createElement(c,r({onClick:u},i))}}(t,a,P);return n.default.createElement(s,h,p.map((function(e){return b(r({},e,{isDisabled:!!E}))})))};return l.propTypes={currentPage:i.default.number.isRequired,totalPages:i.default.number.isRequired,boundaryPagesRange:i.default.number,siblingPagesRange:i.default.number,hideEllipsis:i.default.bool,hidePreviousAndNextPageLinks:i.default.bool,hideFirstAndLastPageLinks:i.default.bool,onChange:i.default.func,disabled:i.default.bool},l},t.w$=o.ITEM_TYPES},30327:(e,t)=>{t.ITEM_TYPES={PAGE:"PAGE",ELLIPSIS:"ELLIPSIS",FIRST_PAGE_LINK:"FIRST_PAGE_LINK",PREVIOUS_PAGE_LINK:"PREVIOUS_PAGE_LINK",NEXT_PAGE_LINK:"NEXT_PAGE_LINK",LAST_PAGE_LINK:"LAST_PAGE_LINK"},t.ITEM_KEYS={FIRST_ELLIPSIS:-1,SECOND_ELLIPSIS:-2,FIRST_PAGE_LINK:-3,PREVIOUS_PAGE_LINK:-4,NEXT_PAGE_LINK:-5,LAST_PAGE_LINK:-6}},47815:(e,t,a)=>{var r,n,i,o,s;a.d(t,{Or:()=>n,Z_:()=>o,cM:()=>s,yV:()=>r}),function(e){e.Email="Email",e.Slack="Slack",e.SlackV2="SlackV2"}(r||(r={})),function(e){e.Success="Success",e.Working="Working",e.Error="Error",e.Noop="Not triggered",e.Grace="On Grace"}(n||(n={})),function(e){e.Email="Email",e.Slack="Slack",e.SlackV2="SlackV2"}(i||(i={})),function(e){e.General="generalSection",e.Content="contentSection",e.Alert="alertConditionSection",e.Schedule="scheduleSection",e.Notification="notificationSection"}(o||(o={})),function(e){e.Dashboard="dashboard",e.Chart="chart"}(s||(s={}))},63297:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var r=a(96453),n=a(17437),i=a(95579),o=a(74353),s=a.n(o),l=a(96540),c=a(61574),u=a(71519),g=a(39854),d=a(19129),P=a(51713),E=a(5261),h=a(7089),p=a(88014),b=a(50500),S=a(2445);const f=r.I4.div`
  ${({theme:e})=>n.AH`
    display: flex;
    flex-direction: row;

    a,
    Link {
      margin-left: ${4*e.gridUnit}px;
      font-size: ${e.typography.sizes.s};
      font-weight: ${e.typography.weights.normal};
      text-decoration: underline;
    }
  `}
`,_=(0,E.Ay)((function({addDangerToast:e,addSuccessToast:t,isReportEnabled:a}){const{alertId:r}=(0,c.g)(),{state:{loading:n,resourceCount:o,resourceCollection:E},fetchData:_}=(0,b.RU)(`report/${r}/log`,(0,i.t)("log"),e,!1),{state:{loading:I,resource:L},fetchResource:m}=(0,b.fn)("report",(0,i.t)("reports"),e);(0,l.useEffect)((()=>{null===r||I||m(r)}),[r]);const A=(0,l.useMemo)((()=>[{Cell:({row:{original:{state:e}}})=>(0,S.Y)(p.A,{state:e,isReportEnabled:a}),accessor:"state",Header:(0,i.t)("State"),size:"xs",disableSortBy:!0},{Cell:({row:{original:{uuid:e}}})=>e?e.slice(0,6):"none",accessor:"uuid",Header:(0,i.t)("Execution ID"),size:"xs",disableSortBy:!0},{Cell:({row:{original:{scheduled_dttm:e}}})=>s()(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),accessor:"scheduled_dttm",Header:(0,i.t)("Scheduled at (UTC)")},{Cell:({row:{original:{start_dttm:e}}})=>s()(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),Header:(0,i.t)("Start at (UTC)"),accessor:"start_dttm"},{Cell:({row:{original:{start_dttm:e,end_dttm:t}}})=>(0,h.RW)(new Date(e).getTime(),new Date(t).getTime()),Header:(0,i.t)("Duration"),disableSortBy:!0},{accessor:"value",Header:(0,i.t)("Value")},{accessor:"error_message",Header:(0,i.t)("Error message"),Cell:({row:{original:{error_message:e=""}}})=>(0,S.Y)(d.m_,{title:e,placement:"topLeft",children:(0,S.Y)("span",{children:e})})}]),[a]),v=`/${a?"report":"alert"}/list/`,T=(0,i.t)("Alert"),N=(0,i.t)("Report");return(0,S.FD)(S.FK,{children:[(0,S.Y)(P.A,{name:(0,S.FD)(f,{children:[(0,S.FD)("span",{children:[L?"Alert"===L.type?`${T}:`:"Report"===L.type?`${N}:`:null:null," ",null==L?void 0:L.name]}),(0,S.Y)("span",{children:(0,S.Y)(u.N_,{to:v,children:(0,i.t)("Back to all")})})]})}),(0,S.Y)(g.A,{className:"execution-log-list-view",columns:A,count:o,data:E,fetchData:_,initialSort:[{id:"start_dttm",desc:!0}],loading:n,addDangerToast:e,addSuccessToast:t,refreshData:()=>{},pageSize:25})]})}))},88014:(e,t,a)=>{a.d(t,{A:()=>u});var r=a(96453),n=a(95579),i=a(19129),o=a(16294),s=a(47815),l=a(2445);function c(e,t,a){switch(e){case s.Or.Working:return a.colors.primary.base;case s.Or.Error:return a.colors.error.base;case s.Or.Success:return t?a.colors.success.base:a.colors.warning.base;case s.Or.Noop:return a.colors.success.base;case s.Or.Grace:return a.colors.warning.base;default:return a.colors.grayscale.base}}function u({state:e,isReportEnabled:t=!1}){const a=(0,r.DP)(),u={icon:o.A.CheckOutlined,label:"",status:""};switch(e){case s.Or.Success:u.icon=t?o.A.CheckOutlined:o.A.WarningOutlined,u.label=t?(0,n.t)("Report sent"):(0,n.t)("Alert triggered, notification sent"),u.status=s.Or.Success;break;case s.Or.Working:u.icon=o.A.Running,u.label=t?(0,n.t)("Report sending"):(0,n.t)("Alert running"),u.status=s.Or.Working;break;case s.Or.Error:u.icon=o.A.CloseOutlined,u.label=t?(0,n.t)("Report failed"):(0,n.t)("Alert failed"),u.status=s.Or.Error;break;case s.Or.Noop:u.icon=o.A.CheckOutlined,u.label=(0,n.t)("Nothing triggered"),u.status=s.Or.Noop;break;case s.Or.Grace:u.icon=o.A.WarningOutlined,u.label=(0,n.t)("Alert Triggered, In Grace Period"),u.status=s.Or.Grace;break;default:u.icon=o.A.CheckOutlined,u.label=(0,n.t)("Nothing triggered"),u.status=s.Or.Noop}const g=u.icon;return(0,l.Y)(i.m_,{title:u.label,placement:"bottomLeft",children:(0,l.Y)(g,{iconSize:"m",iconColor:c(u.status,t,a)})})}}}]);